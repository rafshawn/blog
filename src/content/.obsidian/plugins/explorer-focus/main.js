/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  ExplorerFocusPlugin: () => ExplorerFocusPlugin,
  default: () => main_default
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/types.ts
var DEFAULT_SETTINGS = {
  showRightClickMenu: true,
  showFileExplorerIcon: true,
  focusLevel: "parent",
  customFolderPath: "",
  hideAncestorFolders: false
};

// src/ui/settings-tab.ts
var import_obsidian3 = require("obsidian");

// src/utils/file-explorer-patch.ts
var import_obsidian = require("obsidian");

// node_modules/.pnpm/monkey-around@3.0.0/node_modules/monkey-around/dist/index.mjs
function around(obj, factories) {
  const removers = Object.keys(factories).map((key) => around1(obj, key, factories[key]));
  return removers.length === 1 ? removers[0] : function() {
    removers.forEach((r) => r());
  };
}
function around1(obj, method, createWrapper) {
  const inherited = obj[method], hadOwn = obj.hasOwnProperty(method), original = hadOwn ? inherited : function() {
    return Object.getPrototypeOf(obj)[method].apply(this, arguments);
  };
  let current = createWrapper(original);
  if (inherited)
    Object.setPrototypeOf(current, inherited);
  Object.setPrototypeOf(wrapper, current);
  obj[method] = wrapper;
  return remove;
  function wrapper(...args) {
    if (current === original && obj[method] === wrapper)
      remove();
    return current.apply(this, args);
  }
  function remove() {
    if (obj[method] === wrapper) {
      if (hadOwn)
        obj[method] = original;
      else
        delete obj[method];
    }
    if (current === original)
      return;
    current = original;
    Object.setPrototypeOf(wrapper, inherited || Function);
  }
}

// src/utils/file-explorer-patch.ts
var prototypePatched = false;
var patchingFailed = false;
function patchFileExplorer(plugin) {
  if (patchingFailed) {
    return;
  }
  if (import_obsidian.Platform.isMobile) {
    patchingFailed = true;
    return;
  }
  const fileExplorer = getFileExplorer(plugin);
  if (!fileExplorer) {
    return;
  }
  if (!prototypePatched) {
    try {
      const prototype = Object.getPrototypeOf(fileExplorer);
      if (typeof prototype.getSortedFolderItems !== "function") {
        throw new Error("getSortedFolderItems method not found on file explorer prototype");
      }
      plugin.register(
        around(prototype, {
          getSortedFolderItems(old) {
            return function(folder) {
              let sortedChildren = old.call(this, folder);
              if (plugin.isFocus && plugin.focusedPath) {
                const focusedPath = plugin.focusedPath;
                sortedChildren = sortedChildren.filter((vEl) => {
                  const filePath = vEl.file.path;
                  if (filePath === focusedPath) {
                    vEl.info.hidden = false;
                    return true;
                  }
                  if (filePath.startsWith(focusedPath + "/")) {
                    vEl.info.hidden = false;
                    return true;
                  }
                  if (focusedPath.startsWith(filePath + "/")) {
                    vEl.info.hidden = false;
                    return true;
                  }
                  vEl.info.hidden = true;
                  return false;
                });
              } else {
                sortedChildren.forEach((vEl) => {
                  vEl.info.hidden = false;
                });
              }
              return sortedChildren;
            };
          }
        })
      );
      prototypePatched = true;
    } catch (error) {
      patchingFailed = true;
      console.warn(
        "[Explorer Focus] Failed to patch file explorer. The plugin will use CSS-based hiding as a fallback, which may be less precise. This usually happens after an Obsidian update - please check for plugin updates.",
        error
      );
      new import_obsidian.Notice(
        "Explorer Focus: File explorer patching failed. The plugin will still work but may need an update for full functionality.",
        8e3
      );
      return;
    }
  }
  fileExplorer.fileExplorerPlusPatched = true;
}
function getFileExplorer(plugin) {
  var _a;
  const fileExplorerContainer = (_a = plugin.app.workspace.getLeavesOfType("file-explorer")) == null ? void 0 : _a.first();
  return fileExplorerContainer == null ? void 0 : fileExplorerContainer.view;
}
function getAllFileExplorers(plugin) {
  const fileExplorerLeaves = plugin.app.workspace.getLeavesOfType("file-explorer");
  return fileExplorerLeaves.map((leaf) => leaf.view);
}

// src/utils/settings-compat.ts
var import_obsidian2 = require("obsidian");
var ObsidianModule = __toESM(require("obsidian"), 1);
function createSettingsGroup(containerEl, heading, manifestId) {
  if ((0, import_obsidian2.requireApiVersion)("1.11.0")) {
    const SettingGroupClass = ObsidianModule.SettingGroup;
    if (SettingGroupClass) {
      const group = heading ? new SettingGroupClass(containerEl).setHeading(heading) : new SettingGroupClass(containerEl);
      return {
        addSetting(cb) {
          group.addSetting(cb);
        }
      };
    }
  }
  if (manifestId) {
    containerEl.addClass(`${manifestId}-settings-compat`);
  }
  {
    if (heading) {
      const headingEl = containerEl.createDiv("setting-group-heading");
      headingEl.createEl("h3", { text: heading });
    }
    return {
      addSetting(cb) {
        const setting = new import_obsidian2.Setting(containerEl);
        cb(setting);
      }
    };
  }
}

// src/ui/settings-tab.ts
var ExplorerFocusSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.icon = "lucide-focus";
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const generalGroup = createSettingsGroup(containerEl, void 0, "explorer-focus");
    generalGroup.addSetting((setting) => {
      setting.setName("Show right-click menu option").addToggle((toggle) => toggle.setValue(this.plugin.settings.showRightClickMenu).onChange(async (value) => {
        this.plugin.settings.showRightClickMenu = value;
        await this.plugin.saveSettings();
      }));
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Show file explorer icon").addToggle((toggle) => toggle.setValue(this.plugin.settings.showFileExplorerIcon).onChange(async (value) => {
        this.plugin.settings.showFileExplorerIcon = value;
        await this.plugin.saveSettings();
        this.plugin.updateFileExplorerIcon();
      }));
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Command focus level").setDesc("Determines what to focus when using the toggle command or file explorer icon. Right-click menu always focuses the clicked file/folder.").addDropdown((dropdown) => dropdown.addOption("file", "Current file only").addOption("parent", "Parent folder").addOption("grandparent", "Grandparent folder").addOption("greatgrandparent", "Great grandparent folder").addOption("custom", "Specific folder").setValue(this.plugin.settings.focusLevel).onChange(async (value) => {
        this.plugin.settings.focusLevel = value;
        await this.plugin.saveSettings();
        if (this.plugin.isFocus) {
          const fileExplorers = getAllFileExplorers(this.plugin);
          fileExplorers.forEach((fileExplorer) => {
            if (fileExplorer == null ? void 0 : fileExplorer.requestSort) {
              fileExplorer.requestSort();
            }
          });
        }
        this.display();
      }));
    });
    if (this.plugin.settings.focusLevel === "custom") {
      generalGroup.addSetting((setting) => {
        setting.setName("Custom folder path").setDesc("Enter a folder path (folder/subfolder). This folder will be focused regardless of which file is open.").addText((text) => text.setPlaceholder("Folder/subfolder").setValue(this.plugin.settings.customFolderPath).onChange(async (value) => {
          this.plugin.settings.customFolderPath = value;
          await this.plugin.saveSettings();
        }));
      });
    }
  }
};

// src/utils/focus.ts
function getFocusPath(path, level, settings) {
  if (level === "custom") {
    return settings.customFolderPath || path;
  }
  if (level === "file") {
    return path;
  }
  const parts = path.split("/");
  if (level === "parent") {
    if (parts.length === 1) {
      return path;
    }
    return parts.slice(0, -1).join("/");
  }
  if (level === "grandparent") {
    if (parts.length <= 2) {
      return parts[0] || path;
    }
    return parts.slice(0, -2).join("/");
  }
  if (parts.length <= 3) {
    return parts[0] || path;
  }
  return parts.slice(0, -3).join("/");
}

// src/commands/index.ts
function registerCommands(plugin) {
  plugin.addCommand({
    id: "toggle",
    name: "Toggle focus",
    callback: () => {
      if (plugin.isFocus) {
        plugin.exitFocus();
      } else {
        if (plugin.settings.focusLevel === "custom") {
          if (plugin.settings.customFolderPath) {
            plugin.enterFocus(plugin.settings.customFolderPath);
          }
        } else {
          const file = plugin.app.workspace.getActiveFile();
          if (file == null ? void 0 : file.path) {
            const focusPath = getFocusPath(file.path, plugin.settings.focusLevel, plugin.settings);
            plugin.enterFocus(focusPath);
          }
        }
      }
    }
  });
  if (plugin.settings.showRightClickMenu) {
    plugin.registerEvent(
      plugin.app.workspace.on("file-menu", (menu, file) => {
        if (!plugin.settings.showRightClickMenu) {
          return;
        }
        menu.addItem((item) => {
          item.setTitle(plugin.isFocus ? "Exit focus" : "Focus").setIcon(plugin.isFocus ? "log-out" : "focus").onClick(() => {
            plugin.toggleFocus(file == null ? void 0 : file.path);
          });
        });
      })
    );
  }
}

// src/utils/file-explorer.ts
function findNavButtonsContainer(fileExplorerView) {
  var _a;
  let container = fileExplorerView.querySelector(".nav-buttons-container");
  if (container) {
    return container;
  }
  container = fileExplorerView.querySelector(".nav-header-button-container");
  if (container) {
    return container;
  }
  const existingButtons = fileExplorerView.querySelectorAll(".nav-action-button");
  if (existingButtons.length > 0) {
    const firstButton = existingButtons[0];
    const parent = firstButton.parentElement;
    if (parent && (parent.classList.contains("nav-buttons-container") || parent.classList.contains("nav-header-button-container") || Array.from(parent.children).some((el) => el.classList.contains("nav-action-button")))) {
      return parent;
    }
  }
  const viewHeader = fileExplorerView.querySelector(".view-header");
  if (viewHeader) {
    const headerContainer = viewHeader.querySelector(".nav-buttons-container") || viewHeader.querySelector(".nav-header-button-container") || viewHeader.querySelector(".view-header-title-container");
    if (headerContainer) {
      return headerContainer;
    }
    return viewHeader;
  }
  const navFilesContainer = fileExplorerView.querySelector(".nav-files-container");
  if (navFilesContainer) {
    let mobileButtonContainer = fileExplorerView.querySelector(".explorer-focus-mobile-buttons");
    if (!mobileButtonContainer) {
      mobileButtonContainer = document.createElement("div");
      mobileButtonContainer.className = "nav-buttons-container explorer-focus-mobile-buttons";
      mobileButtonContainer.setCssProps({
        display: "flex",
        alignItems: "center",
        gap: "4px",
        padding: "8px",
        borderBottom: "1px solid var(--background-modifier-border)"
      });
      (_a = navFilesContainer.parentElement) == null ? void 0 : _a.insertBefore(mobileButtonContainer, navFilesContainer);
    }
    return mobileButtonContainer;
  }
  let topContainer = fileExplorerView.querySelector(".explorer-focus-mobile-buttons");
  if (!topContainer) {
    topContainer = document.createElement("div");
    topContainer.className = "nav-buttons-container explorer-focus-mobile-buttons";
    topContainer.setCssProps({
      display: "flex",
      alignItems: "center",
      gap: "4px",
      padding: "8px",
      borderBottom: "1px solid var(--background-modifier-border)"
    });
    fileExplorerView.insertBefore(topContainer, fileExplorerView.firstChild);
  }
  return topContainer;
}
function createFileExplorerIcon(plugin) {
  const icon = document.createElement("div");
  icon.className = "clickable-icon nav-action-button";
  icon.setAttribute("aria-label", "Toggle focus");
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
  svg.setAttribute("width", "24");
  svg.setAttribute("height", "24");
  svg.setAttribute("viewBox", "0 0 24 24");
  svg.setAttribute("fill", "none");
  svg.setAttribute("stroke", "currentColor");
  svg.setAttribute("stroke-width", "2");
  svg.setAttribute("stroke-linecap", "round");
  svg.setAttribute("stroke-linejoin", "round");
  svg.setAttribute("class", "svg-icon lucide-focus");
  const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
  circle.setAttribute("cx", "12");
  circle.setAttribute("cy", "12");
  circle.setAttribute("r", "3");
  svg.appendChild(circle);
  const path1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path1.setAttribute("d", "M3 7V5a2 2 0 0 1 2-2h2");
  svg.appendChild(path1);
  const path2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path2.setAttribute("d", "M17 3h2a2 2 0 0 1 2 2v2");
  svg.appendChild(path2);
  const path3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path3.setAttribute("d", "M21 17v2a2 2 0 0 1-2 2h-2");
  svg.appendChild(path3);
  const path4 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path4.setAttribute("d", "M7 21H5a2 2 0 0 1-2-2v-2");
  svg.appendChild(path4);
  icon.appendChild(svg);
  return icon;
}
function insertFileExplorerIcon(icon, navButtonsContainer) {
  if (navButtonsContainer.contains(icon)) {
    return;
  }
  const allIcons = Array.from(navButtonsContainer.querySelectorAll(".clickable-icon.nav-action-button"));
  const defaultIcons = allIcons.filter((el) => !el.classList.contains("cmdr") && el !== icon);
  const cmdrIcons = Array.from(navButtonsContainer.querySelectorAll(".cmdr"));
  if (cmdrIcons.length > 0) {
    navButtonsContainer.insertBefore(icon, cmdrIcons[0]);
  } else if (defaultIcons.length > 0) {
    const lastIcon = defaultIcons[defaultIcons.length - 1];
    if (lastIcon.nextSibling) {
      navButtonsContainer.insertBefore(icon, lastIcon.nextSibling);
    } else {
      navButtonsContainer.appendChild(icon);
    }
  } else {
    navButtonsContainer.appendChild(icon);
  }
}

// src/main.ts
var ExplorerFocusPlugin = class extends import_obsidian4.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.isFocus = false;
    this.focusedPath = null;
    this.fileExplorerIcon = null;
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new ExplorerFocusSettingTab(this.app, this));
    registerCommands(this);
    if (this.settings.showFileExplorerIcon) {
      this.addFileExplorerIcon();
    }
    this.app.workspace.onLayoutReady(() => {
      this.patchAllFileExplorers();
      this.updateFocusModeClasses();
    });
    this.app.workspace.on("layout-change", () => {
      this.patchAllFileExplorers();
      this.updateFocusModeClasses();
    });
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, loadedData);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  toggleFocus(path) {
    if (this.isFocus) {
      this.exitFocus();
    } else if (path) {
      this.enterFocus(path);
    }
  }
  enterFocus(path) {
    this.isFocus = true;
    this.focusedPath = path;
    this.updateFileExplorerIcon();
    this.updateFocusModeClasses();
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      if (fileExplorer == null ? void 0 : fileExplorer.requestSort) {
        fileExplorer.requestSort();
      }
    });
    setTimeout(() => {
      fileExplorers.forEach((fileExplorer) => {
        this.refreshFileExplorerVisibility(fileExplorer);
      });
    }, 0);
  }
  patchAllFileExplorers() {
    patchFileExplorer(this);
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      fileExplorer.fileExplorerPlusPatched = true;
    });
  }
  exitFocus() {
    this.isFocus = false;
    this.focusedPath = null;
    this.updateFileExplorerIcon();
    this.updateFocusModeClasses();
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      if (fileExplorer == null ? void 0 : fileExplorer.requestSort) {
        fileExplorer.requestSort();
      }
    });
    setTimeout(() => {
      fileExplorers.forEach((fileExplorer) => {
        this.refreshFileExplorerVisibility(fileExplorer);
      });
    }, 0);
  }
  refreshFileExplorerVisibility(fileExplorer) {
    if (!(fileExplorer == null ? void 0 : fileExplorer.fileItems)) {
      return;
    }
    if (!this.isFocus || !this.focusedPath) {
      Object.values(fileExplorer.fileItems).forEach((vEl) => {
        if (!(vEl == null ? void 0 : vEl.el)) return;
        if (vEl.el.hasAttribute("data-explorer-focus-hidden")) {
          if (vEl.info) vEl.info.hidden = false;
          vEl.el.setCssProps({ display: "" });
          vEl.el.removeAttribute("data-explorer-focus-hidden");
        }
      });
      return;
    }
    const focusedPath = this.focusedPath;
    const ancestorPaths = /* @__PURE__ */ new Set();
    const pathParts = focusedPath.split("/");
    for (let i = 1; i < pathParts.length; i++) {
      ancestorPaths.add(pathParts.slice(0, i).join("/"));
    }
    const topLevelFolders = /* @__PURE__ */ new Map();
    const rootItems = [];
    for (const path of Object.keys(fileExplorer.fileItems)) {
      const firstSlash = path.indexOf("/");
      if (firstSlash === -1) {
        rootItems.push(path);
      } else {
        const topLevel = path.substring(0, firstSlash);
        if (!topLevelFolders.has(topLevel)) {
          topLevelFolders.set(topLevel, []);
        }
        topLevelFolders.get(topLevel).push(path);
      }
    }
    const focusedTopLevel = focusedPath.split("/")[0];
    for (const path of rootItems) {
      const vEl = fileExplorer.fileItems[path];
      if (!(vEl == null ? void 0 : vEl.el)) continue;
      const shouldShow = path === focusedPath || focusedPath.startsWith(path + "/") || path.startsWith(focusedPath + "/");
      this.updateItemVisibility(vEl, shouldShow);
    }
    for (const [topLevel, paths] of topLevelFolders) {
      const isInFocusPath = topLevel === focusedTopLevel || ancestorPaths.has(topLevel) || focusedPath === topLevel;
      if (!isInFocusPath) {
        for (const path of paths) {
          const vEl = fileExplorer.fileItems[path];
          if (!(vEl == null ? void 0 : vEl.el)) continue;
          this.updateItemVisibility(vEl, false);
        }
      } else {
        for (const path of paths) {
          const vEl = fileExplorer.fileItems[path];
          if (!(vEl == null ? void 0 : vEl.el)) continue;
          const shouldShow = path === focusedPath || path.startsWith(focusedPath + "/") || ancestorPaths.has(path);
          this.updateItemVisibility(vEl, shouldShow);
        }
      }
    }
  }
  updateItemVisibility(vEl, shouldShow) {
    const currentlyHidden = vEl.el.hasAttribute("data-explorer-focus-hidden");
    if (shouldShow && currentlyHidden) {
      if (vEl.info) vEl.info.hidden = false;
      vEl.el.setCssProps({ display: "" });
      vEl.el.removeAttribute("data-explorer-focus-hidden");
    } else if (!shouldShow && !currentlyHidden) {
      if (vEl.info) vEl.info.hidden = true;
      vEl.el.setCssProps({ display: "none" });
      vEl.el.setAttribute("data-explorer-focus-hidden", "true");
    }
  }
  updateFocusModeClasses() {
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      const containerEl = fileExplorer.containerEl;
      if (this.isFocus) {
        containerEl.addClass("explorer-focus-mode");
      } else {
        containerEl.removeClass("explorer-focus-mode");
      }
    });
  }
  addFileExplorerIcon() {
    const handleIconClick = () => {
      if (this.isFocus) {
        this.exitFocus();
      } else {
        if (this.settings.focusLevel === "custom") {
          if (this.settings.customFolderPath) {
            this.enterFocus(this.settings.customFolderPath);
          }
        } else {
          const file = this.app.workspace.getActiveFile();
          if (file == null ? void 0 : file.path) {
            const focusPath = getFocusPath(file.path, this.settings.focusLevel, this.settings);
            this.enterFocus(focusPath);
          }
        }
      }
    };
    const addIconToFileExplorer = () => {
      const fileExplorerLeaves = this.app.workspace.getLeavesOfType("file-explorer");
      if (fileExplorerLeaves.length === 0) {
        return;
      }
      const fileExplorerView = fileExplorerLeaves[0].view.containerEl;
      const navButtonsContainer = findNavButtonsContainer(fileExplorerView);
      if (!navButtonsContainer) {
        return;
      }
      if (this.fileExplorerIcon && navButtonsContainer.contains(this.fileExplorerIcon)) {
        return;
      }
      if (this.fileExplorerIcon && this.fileExplorerIcon.parentElement) {
        this.fileExplorerIcon.remove();
      }
      if (!this.fileExplorerIcon) {
        this.fileExplorerIcon = createFileExplorerIcon(this);
        this.fileExplorerIcon.setCssProps({ touchAction: "manipulation" });
        let touchHandled = false;
        this.registerDomEvent(this.fileExplorerIcon, "touchstart", (evt) => {
          touchHandled = true;
          evt.preventDefault();
          evt.stopPropagation();
          handleIconClick();
          setTimeout(() => {
            touchHandled = false;
          }, 300);
        });
        this.registerDomEvent(this.fileExplorerIcon, "click", (evt) => {
          if (touchHandled) {
            evt.preventDefault();
            evt.stopPropagation();
            return;
          }
          evt.preventDefault();
          evt.stopPropagation();
          handleIconClick();
        });
      }
      this.updateFileExplorerIcon();
      insertFileExplorerIcon(this.fileExplorerIcon, navButtonsContainer);
    };
    addIconToFileExplorer();
    this.registerEvent(
      this.app.workspace.on("layout-change", () => {
        if (this.settings.showFileExplorerIcon) {
          addIconToFileExplorer();
        }
      })
    );
  }
  updateFileExplorerIcon() {
    if (!this.fileExplorerIcon) {
      return;
    }
    if (!this.settings.showFileExplorerIcon) {
      if (this.fileExplorerIcon.parentElement) {
        this.fileExplorerIcon.remove();
      }
      return;
    }
    if (!this.fileExplorerIcon.parentElement) {
      const fileExplorerLeaves = this.app.workspace.getLeavesOfType("file-explorer");
      if (fileExplorerLeaves.length > 0) {
        const fileExplorerView = fileExplorerLeaves[0].view.containerEl;
        const navButtonsContainer = findNavButtonsContainer(fileExplorerView);
        if (navButtonsContainer) {
          insertFileExplorerIcon(this.fileExplorerIcon, navButtonsContainer);
        }
      }
    }
    if (this.fileExplorerIcon.style.cursor) {
      this.fileExplorerIcon.style.removeProperty("cursor");
    }
    if (this.isFocus) {
      this.fileExplorerIcon.addClass("is-active");
    } else {
      this.fileExplorerIcon.removeClass("is-active");
    }
  }
  onunload() {
    if (this.fileExplorerIcon) {
      this.fileExplorerIcon.remove();
      this.fileExplorerIcon = null;
    }
  }
};
var main_default = ExplorerFocusPlugin;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3R5cGVzLnRzIiwgInNyYy91aS9zZXR0aW5ncy10YWIudHMiLCAic3JjL3V0aWxzL2ZpbGUtZXhwbG9yZXItcGF0Y2gudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL21vbmtleS1hcm91bmRAMy4wLjAvbm9kZV9tb2R1bGVzL21vbmtleS1hcm91bmQvZGlzdC9pbmRleC5tanMiLCAic3JjL3V0aWxzL3NldHRpbmdzLWNvbXBhdC50cyIsICJzcmMvdXRpbHMvZm9jdXMudHMiLCAic3JjL2NvbW1hbmRzL2luZGV4LnRzIiwgInNyYy91dGlscy9maWxlLWV4cGxvcmVyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luTWFuaWZlc3QgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgRXhwbG9yZXJGb2N1c1NldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IEV4cGxvcmVyRm9jdXNTZXR0aW5nVGFiIH0gZnJvbSAnLi91aS9zZXR0aW5ncy10YWInO1xyXG5pbXBvcnQgeyByZWdpc3RlckNvbW1hbmRzIH0gZnJvbSAnLi9jb21tYW5kcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUZpbGVFeHBsb3Jlckljb24sIGluc2VydEZpbGVFeHBsb3Jlckljb24sIGZpbmROYXZCdXR0b25zQ29udGFpbmVyIH0gZnJvbSAnLi91dGlscy9maWxlLWV4cGxvcmVyJztcclxuaW1wb3J0IHsgcGF0Y2hGaWxlRXhwbG9yZXIgYXMgcGF0Y2hGaWxlRXhwbG9yZXJVdGlsLCBnZXRBbGxGaWxlRXhwbG9yZXJzLCBGaWxlRXhwbG9yZXJWaWV3IH0gZnJvbSAnLi91dGlscy9maWxlLWV4cGxvcmVyLXBhdGNoJztcclxuaW1wb3J0IHsgZ2V0Rm9jdXNQYXRoIH0gZnJvbSAnLi91dGlscy9mb2N1cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRXhwbG9yZXJGb2N1c1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0aXNGb2N1czogYm9vbGVhbjtcclxuXHRmb2N1c2VkUGF0aDogc3RyaW5nIHwgbnVsbDtcclxuXHRzZXR0aW5ncyE6IEV4cGxvcmVyRm9jdXNTZXR0aW5ncztcclxuXHRmaWxlRXhwbG9yZXJJY29uOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QpIHtcclxuXHRcdHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xyXG5cdFx0dGhpcy5pc0ZvY3VzID0gZmFsc2U7XHJcblx0XHR0aGlzLmZvY3VzZWRQYXRoID0gbnVsbDtcclxuXHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbiA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRXhwbG9yZXJGb2N1c1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHRyZWdpc3RlckNvbW1hbmRzKHRoaXMpO1xyXG5cclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dGaWxlRXhwbG9yZXJJY29uKSB7XHJcblx0XHRcdHRoaXMuYWRkRmlsZUV4cGxvcmVySWNvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcclxuXHRcdFx0dGhpcy5wYXRjaEFsbEZpbGVFeHBsb3JlcnMoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVGb2N1c01vZGVDbGFzc2VzKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJsYXlvdXQtY2hhbmdlXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5wYXRjaEFsbEZpbGVFeHBsb3JlcnMoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVGb2N1c01vZGVDbGFzc2VzKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdGNvbnN0IGxvYWRlZERhdGEgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCkgYXMgUGFydGlhbDxFeHBsb3JlckZvY3VzU2V0dGluZ3M+IHwgbnVsbDtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBsb2FkZWREYXRhKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHR0b2dnbGVGb2N1cyhwYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcclxuXHRcdGlmICh0aGlzLmlzRm9jdXMpIHtcclxuXHRcdFx0dGhpcy5leGl0Rm9jdXMoKTtcclxuXHRcdH0gZWxzZSBpZiAocGF0aCkge1xyXG5cdFx0XHR0aGlzLmVudGVyRm9jdXMocGF0aCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRlbnRlckZvY3VzKHBhdGg6IHN0cmluZykge1xyXG5cdFx0dGhpcy5pc0ZvY3VzID0gdHJ1ZTtcclxuXHRcdHRoaXMuZm9jdXNlZFBhdGggPSBwYXRoO1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgaWNvbiBpZiBpdCBleGlzdHNcclxuXHRcdHRoaXMudXBkYXRlRmlsZUV4cGxvcmVySWNvbigpO1xyXG5cdFx0XHJcblx0XHQvLyBVcGRhdGUgQ1NTIGNsYXNzZXNcclxuXHRcdHRoaXMudXBkYXRlRm9jdXNNb2RlQ2xhc3NlcygpO1xyXG5cdFx0XHJcblx0XHQvLyBUcmlnZ2VyIGZpbGUgZXhwbG9yZXIgcmVmcmVzaCBvbiBhbGwgZmlsZSBleHBsb3JlciBpbnN0YW5jZXNcclxuXHRcdGNvbnN0IGZpbGVFeHBsb3JlcnMgPSBnZXRBbGxGaWxlRXhwbG9yZXJzKHRoaXMpO1xyXG5cdFx0ZmlsZUV4cGxvcmVycy5mb3JFYWNoKGZpbGVFeHBsb3JlciA9PiB7XHJcblx0XHRcdGlmIChmaWxlRXhwbG9yZXI/LnJlcXVlc3RTb3J0KSB7XHJcblx0XHRcdFx0ZmlsZUV4cGxvcmVyLnJlcXVlc3RTb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBGb3JjZSByZWZyZXNoIGJ5IG1hbnVhbGx5IHVwZGF0aW5nIHZpc2liaWxpdHkgKGVzcGVjaWFsbHkgaW1wb3J0YW50IG9uIG1vYmlsZSlcclxuXHRcdC8vIFVzZSBzZXRUaW1lb3V0IHRvIGVuc3VyZSBET00gaXMgcmVhZHkgYWZ0ZXIgcmVxdWVzdFNvcnRcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRmaWxlRXhwbG9yZXJzLmZvckVhY2goZmlsZUV4cGxvcmVyID0+IHtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hGaWxlRXhwbG9yZXJWaXNpYmlsaXR5KGZpbGVFeHBsb3Jlcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgMCk7XHJcblx0fVxyXG5cclxuXHRwYXRjaEFsbEZpbGVFeHBsb3JlcnMoKTogdm9pZCB7XHJcblx0XHQvLyBQYXRjaCB0aGUgcHJvdG90eXBlIChvbmNlKSBhbmQgbWFyayBhbGwgaW5zdGFuY2VzXHJcblx0XHRwYXRjaEZpbGVFeHBsb3JlclV0aWwodGhpcyk7XHJcblx0XHRjb25zdCBmaWxlRXhwbG9yZXJzID0gZ2V0QWxsRmlsZUV4cGxvcmVycyh0aGlzKTtcclxuXHRcdGZpbGVFeHBsb3JlcnMuZm9yRWFjaChmaWxlRXhwbG9yZXIgPT4ge1xyXG5cdFx0XHRmaWxlRXhwbG9yZXIuZmlsZUV4cGxvcmVyUGx1c1BhdGNoZWQgPSB0cnVlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRleGl0Rm9jdXMoKSB7XHJcblx0XHR0aGlzLmlzRm9jdXMgPSBmYWxzZTtcclxuXHRcdHRoaXMuZm9jdXNlZFBhdGggPSBudWxsO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBpY29uIGlmIGl0IGV4aXN0c1xyXG5cdFx0dGhpcy51cGRhdGVGaWxlRXhwbG9yZXJJY29uKCk7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBDU1MgY2xhc3Nlc1xyXG5cdFx0dGhpcy51cGRhdGVGb2N1c01vZGVDbGFzc2VzKCk7XHJcblx0XHRcclxuXHRcdC8vIFRyaWdnZXIgZmlsZSBleHBsb3JlciByZWZyZXNoIG9uIGFsbCBmaWxlIGV4cGxvcmVyIGluc3RhbmNlc1xyXG5cdFx0Y29uc3QgZmlsZUV4cGxvcmVycyA9IGdldEFsbEZpbGVFeHBsb3JlcnModGhpcyk7XHJcblx0XHRmaWxlRXhwbG9yZXJzLmZvckVhY2goZmlsZUV4cGxvcmVyID0+IHtcclxuXHRcdFx0aWYgKGZpbGVFeHBsb3Jlcj8ucmVxdWVzdFNvcnQpIHtcclxuXHRcdFx0XHRmaWxlRXhwbG9yZXIucmVxdWVzdFNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vIEZvcmNlIHJlZnJlc2ggYnkgbWFudWFsbHkgdXBkYXRpbmcgdmlzaWJpbGl0eSAoZXNwZWNpYWxseSBpbXBvcnRhbnQgb24gbW9iaWxlKVxyXG5cdFx0Ly8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIERPTSBpcyByZWFkeSBhZnRlciByZXF1ZXN0U29ydFxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGZpbGVFeHBsb3JlcnMuZm9yRWFjaChmaWxlRXhwbG9yZXIgPT4ge1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaEZpbGVFeHBsb3JlclZpc2liaWxpdHkoZmlsZUV4cGxvcmVyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LCAwKTtcclxuXHR9XHJcblxyXG5cdHJlZnJlc2hGaWxlRXhwbG9yZXJWaXNpYmlsaXR5KGZpbGVFeHBsb3JlcjogRmlsZUV4cGxvcmVyVmlldyk6IHZvaWQge1xyXG5cdFx0aWYgKCFmaWxlRXhwbG9yZXI/LmZpbGVJdGVtcykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV2hlbiBleGl0aW5nIGZvY3VzIG1vZGUsIHRoZSBwYXRjaCBoYW5kbGVzIHZpc2liaWxpdHkgcmVzZXQgdmlhIHJlcXVlc3RTb3J0LlxyXG5cdFx0Ly8gV2Ugb25seSBuZWVkIHRvIGNsZWFyIGFueSBzdGFsZSBoaWRkZW4gYXR0cmlidXRlcy5cclxuXHRcdGlmICghdGhpcy5pc0ZvY3VzIHx8ICF0aGlzLmZvY3VzZWRQYXRoKSB7XHJcblx0XHRcdE9iamVjdC52YWx1ZXMoZmlsZUV4cGxvcmVyLmZpbGVJdGVtcykuZm9yRWFjaCgodkVsKSA9PiB7XHJcblx0XHRcdFx0aWYgKCF2RWw/LmVsKSByZXR1cm47XHJcblx0XHRcdFx0Ly8gT25seSB1cGRhdGUgaWYgY3VycmVudGx5IG1hcmtlZCBoaWRkZW4gdG8gbWluaW1pemUgRE9NIG9wZXJhdGlvbnNcclxuXHRcdFx0XHRpZiAodkVsLmVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1leHBsb3Jlci1mb2N1cy1oaWRkZW4nKSkge1xyXG5cdFx0XHRcdFx0aWYgKHZFbC5pbmZvKSB2RWwuaW5mby5oaWRkZW4gPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZFbC5lbC5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICcnIH0pO1xyXG5cdFx0XHRcdFx0dkVsLmVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1leHBsb3Jlci1mb2N1cy1oaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZm9jdXNlZFBhdGggPSB0aGlzLmZvY3VzZWRQYXRoO1xyXG5cclxuXHRcdC8vIFByZS1jb21wdXRlIGFuY2VzdG9yIHBhdGhzIGFzIGEgU2V0IGZvciBPKDEpIGxvb2t1cFxyXG5cdFx0Y29uc3QgYW5jZXN0b3JQYXRocyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cdFx0Y29uc3QgcGF0aFBhcnRzID0gZm9jdXNlZFBhdGguc3BsaXQoJy8nKTtcclxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aFBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGFuY2VzdG9yUGF0aHMuYWRkKHBhdGhQYXJ0cy5zbGljZSgwLCBpKS5qb2luKCcvJykpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEdyb3VwIGl0ZW1zIGJ5IHRoZWlyIHRvcC1sZXZlbCBmb2xkZXIgZm9yIGVmZmljaWVudCBzdWJ0cmVlIHNraXBwaW5nXHJcblx0XHRjb25zdCB0b3BMZXZlbEZvbGRlcnMgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW10+KCk7XHJcblx0XHRjb25zdCByb290SXRlbXM6IHN0cmluZ1tdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBwYXRoIG9mIE9iamVjdC5rZXlzKGZpbGVFeHBsb3Jlci5maWxlSXRlbXMpKSB7XHJcblx0XHRcdGNvbnN0IGZpcnN0U2xhc2ggPSBwYXRoLmluZGV4T2YoJy8nKTtcclxuXHRcdFx0aWYgKGZpcnN0U2xhc2ggPT09IC0xKSB7XHJcblx0XHRcdFx0cm9vdEl0ZW1zLnB1c2gocGF0aCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29uc3QgdG9wTGV2ZWwgPSBwYXRoLnN1YnN0cmluZygwLCBmaXJzdFNsYXNoKTtcclxuXHRcdFx0XHRpZiAoIXRvcExldmVsRm9sZGVycy5oYXModG9wTGV2ZWwpKSB7XHJcblx0XHRcdFx0XHR0b3BMZXZlbEZvbGRlcnMuc2V0KHRvcExldmVsLCBbXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRvcExldmVsRm9sZGVycy5nZXQodG9wTGV2ZWwpIS5wdXNoKHBhdGgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRGV0ZXJtaW5lIHdoaWNoIHRvcC1sZXZlbCBmb2xkZXJzIG5lZWQgZnVsbCBwcm9jZXNzaW5nXHJcblx0XHRjb25zdCBmb2N1c2VkVG9wTGV2ZWwgPSBmb2N1c2VkUGF0aC5zcGxpdCgnLycpWzBdO1xyXG5cclxuXHRcdC8vIFByb2Nlc3Mgcm9vdC1sZXZlbCBpdGVtc1xyXG5cdFx0Zm9yIChjb25zdCBwYXRoIG9mIHJvb3RJdGVtcykge1xyXG5cdFx0XHRjb25zdCB2RWwgPSBmaWxlRXhwbG9yZXIuZmlsZUl0ZW1zW3BhdGhdO1xyXG5cdFx0XHRpZiAoIXZFbD8uZWwpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2hvdWxkU2hvdyA9IHBhdGggPT09IGZvY3VzZWRQYXRoIHx8XHJcblx0XHRcdFx0Zm9jdXNlZFBhdGguc3RhcnRzV2l0aChwYXRoICsgJy8nKSB8fFxyXG5cdFx0XHRcdHBhdGguc3RhcnRzV2l0aChmb2N1c2VkUGF0aCArICcvJyk7XHJcblx0XHRcdHRoaXMudXBkYXRlSXRlbVZpc2liaWxpdHkodkVsLCBzaG91bGRTaG93KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBQcm9jZXNzIGVhY2ggdG9wLWxldmVsIGZvbGRlclxyXG5cdFx0Zm9yIChjb25zdCBbdG9wTGV2ZWwsIHBhdGhzXSBvZiB0b3BMZXZlbEZvbGRlcnMpIHtcclxuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhpcyB0b3AtbGV2ZWwgZm9sZGVyIG5lZWRzIGRldGFpbGVkIHByb2Nlc3NpbmdcclxuXHRcdFx0Y29uc3QgaXNJbkZvY3VzUGF0aCA9IHRvcExldmVsID09PSBmb2N1c2VkVG9wTGV2ZWwgfHxcclxuXHRcdFx0XHRhbmNlc3RvclBhdGhzLmhhcyh0b3BMZXZlbCkgfHxcclxuXHRcdFx0XHRmb2N1c2VkUGF0aCA9PT0gdG9wTGV2ZWw7XHJcblxyXG5cdFx0XHRpZiAoIWlzSW5Gb2N1c1BhdGgpIHtcclxuXHRcdFx0XHQvLyBUaGlzIGVudGlyZSBzdWJ0cmVlIHNob3VsZCBiZSBoaWRkZW4gLSBiYXRjaCBoaWRlIGFsbCBpdGVtc1xyXG5cdFx0XHRcdGZvciAoY29uc3QgcGF0aCBvZiBwYXRocykge1xyXG5cdFx0XHRcdFx0Y29uc3QgdkVsID0gZmlsZUV4cGxvcmVyLmZpbGVJdGVtc1twYXRoXTtcclxuXHRcdFx0XHRcdGlmICghdkVsPy5lbCkgY29udGludWU7XHJcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUl0ZW1WaXNpYmlsaXR5KHZFbCwgZmFsc2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBUaGlzIHN1YnRyZWUgbmVlZHMgaW5kaXZpZHVhbCBldmFsdWF0aW9uXHJcblx0XHRcdFx0Zm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XHJcblx0XHRcdFx0XHRjb25zdCB2RWwgPSBmaWxlRXhwbG9yZXIuZmlsZUl0ZW1zW3BhdGhdO1xyXG5cdFx0XHRcdFx0aWYgKCF2RWw/LmVsKSBjb250aW51ZTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBzaG91bGRTaG93ID0gcGF0aCA9PT0gZm9jdXNlZFBhdGggfHxcclxuXHRcdFx0XHRcdFx0cGF0aC5zdGFydHNXaXRoKGZvY3VzZWRQYXRoICsgJy8nKSB8fFxyXG5cdFx0XHRcdFx0XHRhbmNlc3RvclBhdGhzLmhhcyhwYXRoKTtcclxuXHRcdFx0XHRcdHRoaXMudXBkYXRlSXRlbVZpc2liaWxpdHkodkVsLCBzaG91bGRTaG93KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlSXRlbVZpc2liaWxpdHkodkVsOiB7IGluZm8/OiB7IGhpZGRlbjogYm9vbGVhbiB9OyBlbDogSFRNTEVsZW1lbnQgfSwgc2hvdWxkU2hvdzogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0Y29uc3QgY3VycmVudGx5SGlkZGVuID0gdkVsLmVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1leHBsb3Jlci1mb2N1cy1oaWRkZW4nKTtcclxuXHJcblx0XHQvLyBPbmx5IHVwZGF0ZSBET00gaWYgc3RhdGUgYWN0dWFsbHkgY2hhbmdlc1xyXG5cdFx0aWYgKHNob3VsZFNob3cgJiYgY3VycmVudGx5SGlkZGVuKSB7XHJcblx0XHRcdGlmICh2RWwuaW5mbykgdkVsLmluZm8uaGlkZGVuID0gZmFsc2U7XHJcblx0XHRcdHZFbC5lbC5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICcnIH0pO1xyXG5cdFx0XHR2RWwuZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWV4cGxvcmVyLWZvY3VzLWhpZGRlbicpO1xyXG5cdFx0fSBlbHNlIGlmICghc2hvdWxkU2hvdyAmJiAhY3VycmVudGx5SGlkZGVuKSB7XHJcblx0XHRcdGlmICh2RWwuaW5mbykgdkVsLmluZm8uaGlkZGVuID0gdHJ1ZTtcclxuXHRcdFx0dkVsLmVsLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHR2RWwuZWwuc2V0QXR0cmlidXRlKCdkYXRhLWV4cGxvcmVyLWZvY3VzLWhpZGRlbicsICd0cnVlJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGb2N1c01vZGVDbGFzc2VzKCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgZmlsZUV4cGxvcmVycyA9IGdldEFsbEZpbGVFeHBsb3JlcnModGhpcyk7XHJcblx0XHRmaWxlRXhwbG9yZXJzLmZvckVhY2goZmlsZUV4cGxvcmVyID0+IHtcclxuXHRcdFx0Y29uc3QgY29udGFpbmVyRWwgPSBmaWxlRXhwbG9yZXIuY29udGFpbmVyRWw7XHJcblx0XHRcdGlmICh0aGlzLmlzRm9jdXMpIHtcclxuXHRcdFx0XHRjb250YWluZXJFbC5hZGRDbGFzcyhcImV4cGxvcmVyLWZvY3VzLW1vZGVcIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29udGFpbmVyRWwucmVtb3ZlQ2xhc3MoXCJleHBsb3Jlci1mb2N1cy1tb2RlXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHRhZGRGaWxlRXhwbG9yZXJJY29uKCkge1xyXG5cdFx0Y29uc3QgaGFuZGxlSWNvbkNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5pc0ZvY3VzKSB7XHJcblx0XHRcdFx0dGhpcy5leGl0Rm9jdXMoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5mb2N1c0xldmVsID09PSAnY3VzdG9tJykge1xyXG5cdFx0XHRcdFx0Ly8gRm9yIGN1c3RvbSBmb2xkZXIsIHVzZSB0aGUgY3VzdG9tIHBhdGggZGlyZWN0bHlcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmN1c3RvbUZvbGRlclBhdGgpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5lbnRlckZvY3VzKHRoaXMuc2V0dGluZ3MuY3VzdG9tRm9sZGVyUGF0aCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIEZvciBvdGhlciBsZXZlbHMsIG5lZWQgdGhlIGN1cnJlbnQgZmlsZVxyXG5cdFx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRcdFx0XHRpZiAoZmlsZT8ucGF0aCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmb2N1c1BhdGggPSBnZXRGb2N1c1BhdGgoZmlsZS5wYXRoLCB0aGlzLnNldHRpbmdzLmZvY3VzTGV2ZWwsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVudGVyRm9jdXMoZm9jdXNQYXRoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgYWRkSWNvblRvRmlsZUV4cGxvcmVyID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdmaWxlLWV4cGxvcmVyJyk7XHJcblx0XHRcdGlmIChmaWxlRXhwbG9yZXJMZWF2ZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJWaWV3ID0gZmlsZUV4cGxvcmVyTGVhdmVzWzBdLnZpZXcuY29udGFpbmVyRWw7XHJcblx0XHRcdGNvbnN0IG5hdkJ1dHRvbnNDb250YWluZXIgPSBmaW5kTmF2QnV0dG9uc0NvbnRhaW5lcihmaWxlRXhwbG9yZXJWaWV3KTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICghbmF2QnV0dG9uc0NvbnRhaW5lcikge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgaWYgaWNvbiBhbHJlYWR5IGV4aXN0cyBpbiB0aGlzIGNvbnRhaW5lclxyXG5cdFx0XHRpZiAodGhpcy5maWxlRXhwbG9yZXJJY29uICYmIG5hdkJ1dHRvbnNDb250YWluZXIuY29udGFpbnModGhpcy5maWxlRXhwbG9yZXJJY29uKSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIG9sZCBpY29uIGlmIGl0IGV4aXN0cyBlbHNld2hlcmVcclxuXHRcdFx0aWYgKHRoaXMuZmlsZUV4cGxvcmVySWNvbiAmJiB0aGlzLmZpbGVFeHBsb3Jlckljb24ucGFyZW50RWxlbWVudCkge1xyXG5cdFx0XHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbi5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBpY29uIGJ1dHRvbiBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcblx0XHRcdGlmICghdGhpcy5maWxlRXhwbG9yZXJJY29uKSB7XHJcblx0XHRcdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uID0gY3JlYXRlRmlsZUV4cGxvcmVySWNvbih0aGlzKTtcclxuXHJcblx0XHRcdFx0Ly8gRG9uJ3Qgc2V0IGN1cnNvciAtIGxldCBpdCBpbmhlcml0IGZyb20gLmNsaWNrYWJsZS1pY29uIGNsYXNzIChjdXJzb3I6IHZhcigtLWN1cnNvcikpXHJcblx0XHRcdFx0Ly8gVGhpcyBtYXRjaGVzIG90aGVyIGZpbGUgZXhwbG9yZXIgaWNvbnMgd2hpY2ggdXNlIHRoZSBDU1MgdmFyaWFibGVcclxuXHRcdFx0XHR0aGlzLmZpbGVFeHBsb3Jlckljb24uc2V0Q3NzUHJvcHMoeyB0b3VjaEFjdGlvbjogJ21hbmlwdWxhdGlvbicgfSk7XHJcblxyXG5cdFx0XHRcdC8vIFVzZSBhIHVuaWZpZWQgaGFuZGxlciB0aGF0IHdvcmtzIGZvciBib3RoIGNsaWNrIGFuZCB0b3VjaFxyXG5cdFx0XHRcdC8vIE9uIG1vYmlsZSwgdG91Y2ggZXZlbnRzIHR5cGljYWxseSB0cmlnZ2VyIGNsaWNrLCBidXQgd2UgaGFuZGxlIGJvdGggdG8gYmUgc2FmZVxyXG5cdFx0XHRcdGxldCB0b3VjaEhhbmRsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQodGhpcy5maWxlRXhwbG9yZXJJY29uLCAndG91Y2hzdGFydCcsIChldnQpID0+IHtcclxuXHRcdFx0XHRcdHRvdWNoSGFuZGxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdGhhbmRsZUljb25DbGljaygpO1xyXG5cdFx0XHRcdFx0Ly8gUmVzZXQgZmxhZyBhZnRlciBhIHNob3J0IGRlbGF5XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgdG91Y2hIYW5kbGVkID0gZmFsc2U7IH0sIDMwMCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudCh0aGlzLmZpbGVFeHBsb3Jlckljb24sICdjbGljaycsIChldnQpID0+IHtcclxuXHRcdFx0XHRcdC8vIElmIHRvdWNoc3RhcnQgYWxyZWFkeSBoYW5kbGVkIGl0LCBza2lwIGNsaWNrIHRvIGF2b2lkIGRvdWJsZS1maXJpbmdcclxuXHRcdFx0XHRcdGlmICh0b3VjaEhhbmRsZWQpIHtcclxuXHRcdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRoYW5kbGVJY29uQ2xpY2soKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gU2V0L3VwZGF0ZSBpY29uXHJcblx0XHRcdHRoaXMudXBkYXRlRmlsZUV4cGxvcmVySWNvbigpO1xyXG5cclxuXHRcdFx0Ly8gSW5zZXJ0IGljb24gaW4gY29ycmVjdCBwb3NpdGlvblxyXG5cdFx0XHRpbnNlcnRGaWxlRXhwbG9yZXJJY29uKHRoaXMuZmlsZUV4cGxvcmVySWNvbiwgbmF2QnV0dG9uc0NvbnRhaW5lcik7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFRyeSB0byBhZGQgaW1tZWRpYXRlbHlcclxuXHRcdGFkZEljb25Ub0ZpbGVFeHBsb3JlcigpO1xyXG5cclxuXHRcdC8vIEFsc28gbGlzdGVuIGZvciB3b3Jrc3BhY2UgY2hhbmdlcyBpbiBjYXNlIGZpbGUgZXhwbG9yZXIgaXMgY3JlYXRlZCBsYXRlclxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2xheW91dC1jaGFuZ2UnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0ZpbGVFeHBsb3Jlckljb24pIHtcclxuXHRcdFx0XHRcdGFkZEljb25Ub0ZpbGVFeHBsb3JlcigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGaWxlRXhwbG9yZXJJY29uKCkge1xyXG5cdFx0aWYgKCF0aGlzLmZpbGVFeHBsb3Jlckljb24pIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5zZXR0aW5ncy5zaG93RmlsZUV4cGxvcmVySWNvbikge1xyXG5cdFx0XHRpZiAodGhpcy5maWxlRXhwbG9yZXJJY29uLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0XHR0aGlzLmZpbGVFeHBsb3Jlckljb24ucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEVuc3VyZSBpY29uIGlzIGluIERPTSBpZiBzZXR0aW5nIGlzIGVuYWJsZWRcclxuXHRcdGlmICghdGhpcy5maWxlRXhwbG9yZXJJY29uLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0Ly8gUmUtaW5zZXJ0IHRoZSBpY29uIGludG8gdGhlIGZpbGUgZXhwbG9yZXJcclxuXHRcdFx0Y29uc3QgZmlsZUV4cGxvcmVyTGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnZmlsZS1leHBsb3JlcicpO1xyXG5cdFx0XHRpZiAoZmlsZUV4cGxvcmVyTGVhdmVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJWaWV3ID0gZmlsZUV4cGxvcmVyTGVhdmVzWzBdLnZpZXcuY29udGFpbmVyRWw7XHJcblx0XHRcdFx0Y29uc3QgbmF2QnV0dG9uc0NvbnRhaW5lciA9IGZpbmROYXZCdXR0b25zQ29udGFpbmVyKGZpbGVFeHBsb3JlclZpZXcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChuYXZCdXR0b25zQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRpbnNlcnRGaWxlRXhwbG9yZXJJY29uKHRoaXMuZmlsZUV4cGxvcmVySWNvbiwgbmF2QnV0dG9uc0NvbnRhaW5lcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRG9uJ3Qgc2V0IGN1cnNvciAtIGxldCBpdCBpbmhlcml0IGZyb20gLmNsaWNrYWJsZS1pY29uIGNsYXNzIChjdXJzb3I6IHZhcigtLWN1cnNvcikpXHJcblx0XHQvLyBUaGlzIG1hdGNoZXMgb3RoZXIgZmlsZSBleHBsb3JlciBpY29ucyB3aGljaCB1c2UgdGhlIENTUyB2YXJpYWJsZVxyXG5cdFx0aWYgKHRoaXMuZmlsZUV4cGxvcmVySWNvbi5zdHlsZS5jdXJzb3IpIHtcclxuXHRcdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdjdXJzb3InKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUb2dnbGUgaXMtYWN0aXZlIGNsYXNzIGJhc2VkIG9uIGZvY3VzIHN0YXRlXHJcblx0XHRpZiAodGhpcy5pc0ZvY3VzKSB7XHJcblx0XHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbi5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmZpbGVFeHBsb3Jlckljb24ucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHRpZiAodGhpcy5maWxlRXhwbG9yZXJJY29uKSB7XHJcblx0XHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbi5yZW1vdmUoKTtcclxuXHRcdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV4cGxvcmVyRm9jdXNQbHVnaW47XHJcblxyXG4iLCAiZXhwb3J0IGludGVyZmFjZSBFeHBsb3JlckZvY3VzU2V0dGluZ3Mge1xuXHRzaG93UmlnaHRDbGlja01lbnU6IGJvb2xlYW47XG5cdHNob3dGaWxlRXhwbG9yZXJJY29uOiBib29sZWFuO1xuXHRmb2N1c0xldmVsOiAnZmlsZScgfCAncGFyZW50JyB8ICdncmFuZHBhcmVudCcgfCAnZ3JlYXRncmFuZHBhcmVudCcgfCAnY3VzdG9tJztcblx0Y3VzdG9tRm9sZGVyUGF0aDogc3RyaW5nO1xuXHRoaWRlQW5jZXN0b3JGb2xkZXJzOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRXhwbG9yZXJGb2N1c1NldHRpbmdzID0ge1xuXHRzaG93UmlnaHRDbGlja01lbnU6IHRydWUsXG5cdHNob3dGaWxlRXhwbG9yZXJJY29uOiB0cnVlLFxuXHRmb2N1c0xldmVsOiAncGFyZW50Jyxcblx0Y3VzdG9tRm9sZGVyUGF0aDogJycsXG5cdGhpZGVBbmNlc3RvckZvbGRlcnM6IGZhbHNlXG59O1xuXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEV4cGxvcmVyRm9jdXNQbHVnaW4gfSBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQgeyBnZXRBbGxGaWxlRXhwbG9yZXJzIH0gZnJvbSBcIi4uL3V0aWxzL2ZpbGUtZXhwbG9yZXItcGF0Y2hcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2V0dGluZ3NHcm91cCB9IGZyb20gXCIuLi91dGlscy9zZXR0aW5ncy1jb21wYXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFeHBsb3JlckZvY3VzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogRXhwbG9yZXJGb2N1c1BsdWdpbjtcclxuXHRwdWJsaWMgaWNvbiA9ICdsdWNpZGUtZm9jdXMnO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBFeHBsb3JlckZvY3VzUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Ly8gRmlyc3QgZ3JvdXAgKG5vIGhlYWRpbmcpXHJcblx0XHRjb25zdCBnZW5lcmFsR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lckVsLCB1bmRlZmluZWQsICdleHBsb3Jlci1mb2N1cycpO1xyXG5cclxuXHRcdGdlbmVyYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZShcIlNob3cgcmlnaHQtY2xpY2sgbWVudSBvcHRpb25cIilcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93UmlnaHRDbGlja01lbnUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dSaWdodENsaWNrTWVudSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGdlbmVyYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHQuc2V0TmFtZShcIlNob3cgZmlsZSBleHBsb3JlciBpY29uXCIpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVFeHBsb3Jlckljb24pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlRXhwbG9yZXJJY29uID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVGaWxlRXhwbG9yZXJJY29uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUoXCJDb21tYW5kIGZvY3VzIGxldmVsXCIpXHJcblx0XHRcdFx0LnNldERlc2MoXCJEZXRlcm1pbmVzIHdoYXQgdG8gZm9jdXMgd2hlbiB1c2luZyB0aGUgdG9nZ2xlIGNvbW1hbmQgb3IgZmlsZSBleHBsb3JlciBpY29uLiBSaWdodC1jbGljayBtZW51IGFsd2F5cyBmb2N1c2VzIHRoZSBjbGlja2VkIGZpbGUvZm9sZGVyLlwiKVxyXG5cdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignZmlsZScsIFwiQ3VycmVudCBmaWxlIG9ubHlcIilcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ3BhcmVudCcsIFwiUGFyZW50IGZvbGRlclwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignZ3JhbmRwYXJlbnQnLCBcIkdyYW5kcGFyZW50IGZvbGRlclwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbignZ3JlYXRncmFuZHBhcmVudCcsIFwiR3JlYXQgZ3JhbmRwYXJlbnQgZm9sZGVyXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdjdXN0b20nLCBcIlNwZWNpZmljIGZvbGRlclwiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzTGV2ZWwpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9jdXNMZXZlbCA9IHZhbHVlIGFzICdmaWxlJyB8ICdwYXJlbnQnIHwgJ2dyYW5kcGFyZW50JyB8ICdncmVhdGdyYW5kcGFyZW50JyB8ICdjdXN0b20nO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0Ly8gUmVmcmVzaCBmaWxlIGV4cGxvcmVyIGlmIGluIGZvY3VzIG1vZGVcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLmlzRm9jdXMpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJzID0gZ2V0QWxsRmlsZUV4cGxvcmVycyh0aGlzLnBsdWdpbik7XHJcblx0XHRcdFx0XHRcdFx0ZmlsZUV4cGxvcmVycy5mb3JFYWNoKChmaWxlRXhwbG9yZXIpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChmaWxlRXhwbG9yZXI/LnJlcXVlc3RTb3J0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGVFeHBsb3Jlci5yZXF1ZXN0U29ydCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBSZWZyZXNoIHRvIHNob3cvaGlkZSBjdXN0b20gZm9sZGVyIGlucHV0XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBZGQgY3VzdG9tIGZvbGRlciBwYXRoIGlucHV0IHRoYXQgb25seSBzaG93cyB3aGVuIGN1c3RvbSBpcyBzZWxlY3RlZFxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzTGV2ZWwgPT09ICdjdXN0b20nKSB7XHJcblx0XHRcdGdlbmVyYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcblx0XHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdFx0LnNldE5hbWUoXCJDdXN0b20gZm9sZGVyIHBhdGhcIilcclxuXHRcdFx0XHRcdC5zZXREZXNjKFwiRW50ZXIgYSBmb2xkZXIgcGF0aCAoZm9sZGVyL3N1YmZvbGRlcikuIFRoaXMgZm9sZGVyIHdpbGwgYmUgZm9jdXNlZCByZWdhcmRsZXNzIG9mIHdoaWNoIGZpbGUgaXMgb3Blbi5cIilcclxuXHRcdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0ZvbGRlci9zdWJmb2xkZXInKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tRm9sZGVyUGF0aClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUZvbGRlclBhdGggPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG59XHJcblxyXG4iLCAiaW1wb3J0IHsgTm90aWNlLCBWaWV3LCBUQWJzdHJhY3RGaWxlLCBQbGF0Zm9ybSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBhcm91bmQgfSBmcm9tIFwibW9ua2V5LWFyb3VuZFwiO1xyXG5pbXBvcnQgeyBFeHBsb3JlckZvY3VzUGx1Z2luIH0gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IFwiLi4vdHlwZXMuZFwiO1xyXG5cclxuLy8gVHlwZSBkZWZpbml0aW9ucyBmcm9tIG1vZHVsZSBhdWdtZW50YXRpb25cclxudHlwZSBQYXRoVmlydHVhbEVsZW1lbnQgPSB7XHJcblx0Y2hpbGRyZW5FbDogSFRNTEVsZW1lbnQ7XHJcblx0Y29sbGFwc2VFbDogSFRNTEVsZW1lbnQ7XHJcblx0Y29sbGFwc2VkOiBib29sZWFuO1xyXG5cdGNvbGxhcHNpYmxlOiBib29sZWFuO1xyXG5cdGNvdmVyRWw6IEhUTUxFbGVtZW50O1xyXG5cdGVsOiBIVE1MRWxlbWVudDtcclxuXHRmaWxlOiBUQWJzdHJhY3RGaWxlO1xyXG5cdGluZm86IHtcclxuXHRcdGNoaWxkTGVmdDogbnVtYmVyO1xyXG5cdFx0Y2hpbGRMZWZ0UGFkZGluZzogbnVtYmVyO1xyXG5cdFx0Y2hpbGRUb3A6IG51bWJlcjtcclxuXHRcdGNvbXB1dGVkOiBib29sZWFuO1xyXG5cdFx0aGVpZ2h0OiBudW1iZXI7XHJcblx0XHRoaWRkZW46IGJvb2xlYW47XHJcblx0XHRwaW5uZWQ/OiBib29sZWFuO1xyXG5cdFx0bmV4dDogYm9vbGVhbjtcclxuXHRcdHF1ZXVlZDogYm9vbGVhbjtcclxuXHRcdHdpZHRoOiBudW1iZXI7XHJcblx0fTtcclxuXHRpbm5lckVsOiBIVE1MRWxlbWVudDtcclxuXHRwYXJlbnQ/OiBQYXRoVmlydHVhbEVsZW1lbnQ7XHJcblx0cHVzaGVyRWw6IEhUTUxFbGVtZW50O1xyXG5cdHNlbGZFbDogSFRNTEVsZW1lbnQ7XHJcblx0dkNoaWxkcmVuOiB7XHJcblx0XHRjaGlsZHJlbjogUGF0aFZpcnR1YWxFbGVtZW50O1xyXG5cdH07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBGaWxlRXhwbG9yZXJWaWV3ID0gVmlldyAmIHtcclxuXHRyZXF1ZXN0U29ydCgpOiB2b2lkO1xyXG5cdGZpbGVFeHBsb3JlclBsdXNQYXRjaGVkPzogYm9vbGVhbjtcclxuXHRmaWxlSXRlbXM6IHtcclxuXHRcdFtrZXk6IHN0cmluZ106IFBhdGhWaXJ0dWFsRWxlbWVudDtcclxuXHR9O1xyXG5cdGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcclxufTtcclxuXHJcbnR5cGUgR2V0U29ydGVkRm9sZGVySXRlbXNGdW5jdGlvbiA9IChmb2xkZXI6IFRBYnN0cmFjdEZpbGUpID0+IFBhdGhWaXJ0dWFsRWxlbWVudFtdO1xyXG5cclxuLy8gR2xvYmFsIGZsYWdzIHRvIHRyYWNrIHBhdGNoaW5nIHN0YXRlXHJcbmxldCBwcm90b3R5cGVQYXRjaGVkID0gZmFsc2U7XHJcbmxldCBwYXRjaGluZ0ZhaWxlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGF0Y2hpbmdGYWlsZWQoKTogYm9vbGVhbiB7XHJcblx0cmV0dXJuIHBhdGNoaW5nRmFpbGVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hGaWxlRXhwbG9yZXIocGx1Z2luOiBFeHBsb3JlckZvY3VzUGx1Z2luKTogdm9pZCB7XHJcblx0Ly8gSWYgcGF0Y2hpbmcgcHJldmlvdXNseSBmYWlsZWQsIGRvbid0IHJldHJ5IC0gcmVseSBvbiBDU1MgZmFsbGJhY2tcclxuXHRpZiAocGF0Y2hpbmdGYWlsZWQpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8vIEZvciBtb2JpbGUsIHdlIGV4cGxpY2l0bHkgc2tpcCBwcm90b3R5cGUgcGF0Y2hpbmcgYXMgaXQgb2Z0ZW4gZmFpbHNcclxuXHQvLyBhbmQgcmVseSBvbiBvdXIgcm9idXN0IERPTS1iYXNlZCBmYWxsYmFjayBpbXBsZW1lbnRlZCBpbiBtYWluLnRzXHJcblx0aWYgKFBsYXRmb3JtLmlzTW9iaWxlKSB7XHJcblx0XHRwYXRjaGluZ0ZhaWxlZCA9IHRydWU7IC8vIFNldCB0byB0cnVlIHRvIGF2b2lkIHJldHJpZXMsIGJ1dCBkb24ndCBzaG93IG5vdGljZVxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgZmlsZUV4cGxvcmVyID0gZ2V0RmlsZUV4cGxvcmVyKHBsdWdpbik7XHJcblxyXG5cdGlmICghZmlsZUV4cGxvcmVyKSB7XHJcblx0XHRyZXR1cm47IC8vIEZpbGUgZXhwbG9yZXIgbm90IGF2YWlsYWJsZSB5ZXQsIHdpbGwgYmUgcGF0Y2hlZCBvbiBsYXlvdXQtY2hhbmdlXHJcblx0fVxyXG5cclxuXHQvLyBQYXRjaCB0aGUgcHJvdG90eXBlIG9ubHkgb25jZSAoYWZmZWN0cyBhbGwgaW5zdGFuY2VzKVxyXG5cdGlmICghcHJvdG90eXBlUGF0Y2hlZCkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZpbGVFeHBsb3Jlcik7XHJcblxyXG5cdFx0XHQvLyBWZXJpZnkgdGhlIG1ldGhvZCB3ZSdyZSBwYXRjaGluZyBleGlzdHNcclxuXHRcdFx0aWYgKHR5cGVvZiBwcm90b3R5cGUuZ2V0U29ydGVkRm9sZGVySXRlbXMgIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2dldFNvcnRlZEZvbGRlckl0ZW1zIG1ldGhvZCBub3QgZm91bmQgb24gZmlsZSBleHBsb3JlciBwcm90b3R5cGUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGx1Z2luLnJlZ2lzdGVyKFxyXG5cdFx0XHRcdGFyb3VuZChwcm90b3R5cGUsIHtcclxuXHRcdFx0XHRcdGdldFNvcnRlZEZvbGRlckl0ZW1zKG9sZDogR2V0U29ydGVkRm9sZGVySXRlbXNGdW5jdGlvbikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKHRoaXM6IEZpbGVFeHBsb3JlclZpZXcsIGZvbGRlcjogVEFic3RyYWN0RmlsZSk6IFBhdGhWaXJ0dWFsRWxlbWVudFtdIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgc29ydGVkQ2hpbGRyZW46IFBhdGhWaXJ0dWFsRWxlbWVudFtdID0gb2xkLmNhbGwodGhpcywgZm9sZGVyKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgZm9jdXMgaGlkaW5nIGlmIGZvY3VzIG1vZGUgaXMgYWN0aXZlXHJcblx0XHRcdFx0XHRcdFx0aWYgKHBsdWdpbi5pc0ZvY3VzICYmIHBsdWdpbi5mb2N1c2VkUGF0aCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZm9jdXNlZFBhdGggPSBwbHVnaW4uZm9jdXNlZFBhdGg7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0c29ydGVkQ2hpbGRyZW4gPSBzb3J0ZWRDaGlsZHJlbi5maWx0ZXIoKHZFbCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBmaWxlUGF0aCA9IHZFbC5maWxlLnBhdGg7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTaG93IGl0ZW1zIHRoYXQgbWF0Y2ggdGhlIGZvY3VzZWQgcGF0aCBleGFjdGx5XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmaWxlUGF0aCA9PT0gZm9jdXNlZFBhdGgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2RWwuaW5mby5oaWRkZW4gPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU2hvdyBpdGVtcyB0aGF0IGFyZSBjaGlsZHJlbiBvZiB0aGUgZm9jdXNlZCBwYXRoXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmaWxlUGF0aC5zdGFydHNXaXRoKGZvY3VzZWRQYXRoICsgXCIvXCIpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dkVsLmluZm8uaGlkZGVuID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFNob3cgaXRlbXMgdGhhdCBhcmUgYW5jZXN0b3JzIG9mIHRoZSBmb2N1c2VkIHBhdGggKHBhcmVudCBjaGFpbilcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGZvY3VzZWRQYXRoLnN0YXJ0c1dpdGgoZmlsZVBhdGggKyBcIi9cIikpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2RWwuaW5mby5oaWRkZW4gPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGlkZSBldmVyeXRoaW5nIGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0dkVsLmluZm8uaGlkZGVuID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIEVuc3VyZSBhbGwgaXRlbXMgYXJlIHZpc2libGUgd2hlbiBub3QgaW4gZm9jdXMgbW9kZVxyXG5cdFx0XHRcdFx0XHRcdFx0c29ydGVkQ2hpbGRyZW4uZm9yRWFjaCgodkVsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZFbC5pbmZvLmhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc29ydGVkQ2hpbGRyZW47XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0cHJvdG90eXBlUGF0Y2hlZCA9IHRydWU7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRwYXRjaGluZ0ZhaWxlZCA9IHRydWU7XHJcblx0XHRcdGNvbnNvbGUud2FybihcclxuXHRcdFx0XHQnW0V4cGxvcmVyIEZvY3VzXSBGYWlsZWQgdG8gcGF0Y2ggZmlsZSBleHBsb3Jlci4gJyArXHJcblx0XHRcdFx0J1RoZSBwbHVnaW4gd2lsbCB1c2UgQ1NTLWJhc2VkIGhpZGluZyBhcyBhIGZhbGxiYWNrLCB3aGljaCBtYXkgYmUgbGVzcyBwcmVjaXNlLiAnICtcclxuXHRcdFx0XHQnVGhpcyB1c3VhbGx5IGhhcHBlbnMgYWZ0ZXIgYW4gT2JzaWRpYW4gdXBkYXRlIC0gcGxlYXNlIGNoZWNrIGZvciBwbHVnaW4gdXBkYXRlcy4nLFxyXG5cdFx0XHRcdGVycm9yXHJcblx0XHRcdCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoXHJcblx0XHRcdFx0J0V4cGxvcmVyIEZvY3VzOiBGaWxlIGV4cGxvcmVyIHBhdGNoaW5nIGZhaWxlZC4gJyArXHJcblx0XHRcdFx0J1RoZSBwbHVnaW4gd2lsbCBzdGlsbCB3b3JrIGJ1dCBtYXkgbmVlZCBhbiB1cGRhdGUgZm9yIGZ1bGwgZnVuY3Rpb25hbGl0eS4nLFxyXG5cdFx0XHRcdDgwMDBcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gTWFyayB0aGlzIGluc3RhbmNlIGFzIHBhdGNoZWRcclxuXHRmaWxlRXhwbG9yZXIuZmlsZUV4cGxvcmVyUGx1c1BhdGNoZWQgPSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUV4cGxvcmVyKHBsdWdpbjogRXhwbG9yZXJGb2N1c1BsdWdpbik6IEZpbGVFeHBsb3JlclZpZXcgfCB1bmRlZmluZWQge1xyXG5cdGNvbnN0IGZpbGVFeHBsb3JlckNvbnRhaW5lciA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcImZpbGUtZXhwbG9yZXJcIik/LmZpcnN0KCk7XHJcblx0cmV0dXJuIGZpbGVFeHBsb3JlckNvbnRhaW5lcj8udmlldyBhcyBGaWxlRXhwbG9yZXJWaWV3O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsRmlsZUV4cGxvcmVycyhwbHVnaW46IEV4cGxvcmVyRm9jdXNQbHVnaW4pOiBGaWxlRXhwbG9yZXJWaWV3W10ge1xyXG5cdGNvbnN0IGZpbGVFeHBsb3JlckxlYXZlcyA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcImZpbGUtZXhwbG9yZXJcIik7XHJcblx0cmV0dXJuIGZpbGVFeHBsb3JlckxlYXZlcy5tYXAobGVhZiA9PiBsZWFmLnZpZXcgYXMgRmlsZUV4cGxvcmVyVmlldyk7XHJcbn1cclxuXHJcbiIsICJmdW5jdGlvbiBhcm91bmQob2JqLCBmYWN0b3JpZXMpIHtcbiAgY29uc3QgcmVtb3ZlcnMgPSBPYmplY3Qua2V5cyhmYWN0b3JpZXMpLm1hcCgoa2V5KSA9PiBhcm91bmQxKG9iaiwga2V5LCBmYWN0b3JpZXNba2V5XSkpO1xuICByZXR1cm4gcmVtb3ZlcnMubGVuZ3RoID09PSAxID8gcmVtb3ZlcnNbMF0gOiBmdW5jdGlvbigpIHtcbiAgICByZW1vdmVycy5mb3JFYWNoKChyKSA9PiByKCkpO1xuICB9O1xufVxuZnVuY3Rpb24gYXJvdW5kMShvYmosIG1ldGhvZCwgY3JlYXRlV3JhcHBlcikge1xuICBjb25zdCBpbmhlcml0ZWQgPSBvYmpbbWV0aG9kXSwgaGFkT3duID0gb2JqLmhhc093blByb3BlcnR5KG1ldGhvZCksIG9yaWdpbmFsID0gaGFkT3duID8gaW5oZXJpdGVkIDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgbGV0IGN1cnJlbnQgPSBjcmVhdGVXcmFwcGVyKG9yaWdpbmFsKTtcbiAgaWYgKGluaGVyaXRlZClcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY3VycmVudCwgaW5oZXJpdGVkKTtcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHdyYXBwZXIsIGN1cnJlbnQpO1xuICBvYmpbbWV0aG9kXSA9IHdyYXBwZXI7XG4gIHJldHVybiByZW1vdmU7XG4gIGZ1bmN0aW9uIHdyYXBwZXIoLi4uYXJncykge1xuICAgIGlmIChjdXJyZW50ID09PSBvcmlnaW5hbCAmJiBvYmpbbWV0aG9kXSA9PT0gd3JhcHBlcilcbiAgICAgIHJlbW92ZSgpO1xuICAgIHJldHVybiBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICBpZiAob2JqW21ldGhvZF0gPT09IHdyYXBwZXIpIHtcbiAgICAgIGlmIChoYWRPd24pXG4gICAgICAgIG9ialttZXRob2RdID0gb3JpZ2luYWw7XG4gICAgICBlbHNlXG4gICAgICAgIGRlbGV0ZSBvYmpbbWV0aG9kXTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnQgPT09IG9yaWdpbmFsKVxuICAgICAgcmV0dXJuO1xuICAgIGN1cnJlbnQgPSBvcmlnaW5hbDtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgaW5oZXJpdGVkIHx8IEZ1bmN0aW9uKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVkdXBlKGtleSwgb2xkRm4sIG5ld0ZuKSB7XG4gIGNoZWNrW2tleV0gPSBrZXk7XG4gIHJldHVybiBjaGVjaztcbiAgZnVuY3Rpb24gY2hlY2soLi4uYXJncykge1xuICAgIHJldHVybiAob2xkRm5ba2V5XSA9PT0ga2V5ID8gb2xkRm4gOiBuZXdGbikuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFmdGVyKHByb21pc2UsIGNiKSB7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oY2IsIGNiKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZShhc3luY0Z1bmN0aW9uKSB7XG4gIGxldCBsYXN0UnVuID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIGZ1bmN0aW9uIHdyYXBwZXIoLi4uYXJncykge1xuICAgIHJldHVybiBsYXN0UnVuID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICBhZnRlcihsYXN0UnVuLCAoKSA9PiB7XG4gICAgICAgIGFzeW5jRnVuY3Rpb24uYXBwbHkodGhpcywgYXJncykudGhlbihyZXMsIHJlaik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICB3cmFwcGVyLmFmdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGxhc3RSdW4gPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgIGFmdGVyKGxhc3RSdW4sIHJlcyk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB3cmFwcGVyO1xufVxuXG5leHBvcnQgeyBhZnRlciwgYXJvdW5kLCBkZWR1cGUsIHNlcmlhbGl6ZSB9O1xuIiwgIi8qKlxyXG4gKiBDb21wYXRpYmlsaXR5IHV0aWxpdGllcyBmb3Igc2V0dGluZ3NcclxuICogUHJvdmlkZXMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgU2V0dGluZ0dyb3VwIChyZXF1aXJlcyBBUEkgMS4xMS4wKylcclxuICovXHJcblxyXG5pbXBvcnQgeyBTZXR0aW5nLCByZXF1aXJlQXBpVmVyc2lvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgT2JzaWRpYW5Nb2R1bGUgZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSB0aGF0IHdvcmtzIHdpdGggYm90aCBTZXR0aW5nR3JvdXAgYW5kIGZhbGxiYWNrIGNvbnRhaW5lclxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc0NvbnRhaW5lciB7XHJcblx0YWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNldHRpbmdzIGNvbnRhaW5lciB0aGF0IHVzZXMgU2V0dGluZ0dyb3VwIGlmIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspLFxyXG4gKiBvdGhlcndpc2UgZmFsbHMgYmFjayB0byBjcmVhdGluZyBhIGhlYWRpbmcgYW5kIHVzaW5nIHRoZSBjb250YWluZXIgZGlyZWN0bHkuXHJcbiAqIFxyXG4gKiBVc2VzIHJlcXVpcmVBcGlWZXJzaW9uKCcxLjExLjAnKSB0byBjaGVjayBpZiBTZXR0aW5nR3JvdXAgaXMgYXZhaWxhYmxlLlxyXG4gKiBUaGlzIGlzIHRoZSBvZmZpY2lhbCBPYnNpZGlhbiBBUEkgbWV0aG9kIGZvciB2ZXJzaW9uIGNoZWNraW5nLlxyXG4gKiBcclxuICogQHBhcmFtIGNvbnRhaW5lckVsIC0gVGhlIGNvbnRhaW5lciBlbGVtZW50IGZvciBzZXR0aW5nc1xyXG4gKiBAcGFyYW0gaGVhZGluZyAtIFRoZSBoZWFkaW5nIHRleHQgZm9yIHRoZSBzZXR0aW5ncyBncm91cCAob3B0aW9uYWwpXHJcbiAqIEBwYXJhbSBtYW5pZmVzdElkIC0gVGhlIHBsdWdpbidzIG1hbmlmZXN0IElEIGZvciBDU1Mgc2NvcGluZyAocmVxdWlyZWQgZm9yIGZhbGxiYWNrIG1vZGUpXHJcbiAqIEByZXR1cm5zIEEgY29udGFpbmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NHcm91cChcclxuXHRjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXHJcblx0aGVhZGluZz86IHN0cmluZyxcclxuXHRtYW5pZmVzdElkPzogc3RyaW5nXHJcbik6IFNldHRpbmdzQ29udGFpbmVyIHtcclxuXHQvLyBDaGVjayBpZiBTZXR0aW5nR3JvdXAgaXMgYXZhaWxhYmxlIChBUEkgMS4xMS4wKylcclxuXHQvLyByZXF1aXJlQXBpVmVyc2lvbiBpcyB0aGUgb2ZmaWNpYWwgT2JzaWRpYW4gQVBJIG1ldGhvZCBmb3IgdmVyc2lvbiBjaGVja2luZ1xyXG5cdGlmIChyZXF1aXJlQXBpVmVyc2lvbignMS4xMS4wJykpIHtcclxuXHRcdC8vIFVzZSBTZXR0aW5nR3JvdXAgLSBpdCdzIGd1YXJhbnRlZWQgdG8gZXhpc3QgaWYgcmVxdWlyZUFwaVZlcnNpb24gcmV0dXJucyB0cnVlXHJcblx0XHQvLyBBY2Nlc3MgU2V0dGluZ0dyb3VwIHZpYSB0eXBlIGFzc2VydGlvbiBzaW5jZSBpdCBtYXkgbm90IGJlIGluIHR5cGUgZGVmaW5pdGlvbnNcclxuXHRcdC8vIGZvciBvbGRlciBUeXBlU2NyaXB0IHZlcnNpb25zLCBidXQgZXhpc3RzIGF0IHJ1bnRpbWUgaW4gT2JzaWRpYW4gMS4xMS4wK1xyXG5cdFx0Ly8gVXNpbmcgdW5rbm93biBpbnN0ZWFkIG9mIGFueSB0byBzYXRpc2Z5IGVzbGludCB3aGlsZSBtYWludGFpbmluZyB0eXBlIHNhZmV0eVxyXG5cdFx0Y29uc3QgU2V0dGluZ0dyb3VwQ2xhc3MgPSAoT2JzaWRpYW5Nb2R1bGUgYXMgdW5rbm93biBhcyB7IFNldHRpbmdHcm91cD86IG5ldyAoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KSA9PiB7XHJcblx0XHRcdHNldEhlYWRpbmcoaGVhZGluZzogc3RyaW5nKToge1xyXG5cdFx0XHRcdGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKTogdm9pZDtcclxuXHRcdFx0fTtcclxuXHRcdFx0YWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG5cdFx0fSB9KS5TZXR0aW5nR3JvdXA7XHJcblx0XHRcclxuXHRcdGlmIChTZXR0aW5nR3JvdXBDbGFzcykge1xyXG5cdFx0XHRjb25zdCBncm91cCA9IGhlYWRpbmcgXHJcblx0XHRcdFx0PyBuZXcgU2V0dGluZ0dyb3VwQ2xhc3MoY29udGFpbmVyRWwpLnNldEhlYWRpbmcoaGVhZGluZylcclxuXHRcdFx0XHQ6IG5ldyBTZXR0aW5nR3JvdXBDbGFzcyhjb250YWluZXJFbCk7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0YWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpIHtcclxuXHRcdFx0XHRcdGdyb3VwLmFkZFNldHRpbmcoY2IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0Ly8gRmFsbGJhY2sgcGF0aCAoZWl0aGVyIEFQSSA8IDEuMTEuMCBvciBTZXR0aW5nR3JvdXAgbm90IGZvdW5kKVxyXG5cdC8vIEFkZCBzY29waW5nIGNsYXNzIHRvIGNvbnRhaW5lckVsIHRvIHNjb3BlIENTUyB0byBvbmx5IHRoaXMgcGx1Z2luJ3Mgc2V0dGluZ3NcclxuXHRpZiAobWFuaWZlc3RJZCkge1xyXG5cdFx0Y29udGFpbmVyRWwuYWRkQ2xhc3MoYCR7bWFuaWZlc3RJZH0tc2V0dGluZ3MtY29tcGF0YCk7XHJcblx0fVxyXG5cdFxyXG5cdHtcclxuXHRcdC8vIEZhbGxiYWNrOiBDcmVhdGUgYSBoZWFkaW5nIG1hbnVhbGx5IGZvciBvbGRlciBBUEkgdmVyc2lvbnNcclxuXHRcdC8vIE5vdGU6IFdoaWxlIGJlc3QgcHJhY3RpY2UgcHJlZmVycyBTZXR0aW5nLnNldEhlYWRpbmcoKSwgdGhlIGZhbGxiYWNrIHBhdGhcclxuXHRcdC8vIGlzIGZvciB2ZXJzaW9ucyB0aGF0IG1heSBub3Qgc3VwcG9ydCBpdCwgc28gbWFudWFsIGhlYWRpbmcgaXMgYXBwcm9wcmlhdGUgaGVyZVxyXG5cdFx0aWYgKGhlYWRpbmcpIHtcclxuXHRcdFx0Y29uc3QgaGVhZGluZ0VsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdzZXR0aW5nLWdyb3VwLWhlYWRpbmcnKTtcclxuXHRcdFx0aGVhZGluZ0VsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogaGVhZGluZyB9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0YWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpIHtcclxuXHRcdFx0XHRjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpO1xyXG5cdFx0XHRcdGNiKHNldHRpbmcpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufVxyXG5cclxuIiwgImltcG9ydCB7IEV4cGxvcmVyRm9jdXNTZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvY3VzUGF0aChcblx0cGF0aDogc3RyaW5nLFxuXHRsZXZlbDogJ2ZpbGUnIHwgJ3BhcmVudCcgfCAnZ3JhbmRwYXJlbnQnIHwgJ2dyZWF0Z3JhbmRwYXJlbnQnIHwgJ2N1c3RvbScsXG5cdHNldHRpbmdzOiBFeHBsb3JlckZvY3VzU2V0dGluZ3Ncbik6IHN0cmluZyB7XG5cdGlmIChsZXZlbCA9PT0gJ2N1c3RvbScpIHtcblx0XHQvLyBVc2UgdGhlIGN1c3RvbSBmb2xkZXIgcGF0aCBmcm9tIHNldHRpbmdzLCByZWdhcmRsZXNzIG9mIGN1cnJlbnQgZmlsZVxuXHRcdHJldHVybiBzZXR0aW5ncy5jdXN0b21Gb2xkZXJQYXRoIHx8IHBhdGg7XG5cdH1cblxuXHRpZiAobGV2ZWwgPT09ICdmaWxlJykge1xuXHRcdHJldHVybiBwYXRoO1xuXHR9XG5cblx0Y29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJyk7XG5cdFxuXHRpZiAobGV2ZWwgPT09ICdwYXJlbnQnKSB7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0cmV0dXJuIHBhdGg7IC8vIEFscmVhZHkgYXQgcm9vdFxuXHRcdH1cblx0XHRyZXR1cm4gcGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKTtcblx0fVxuXG5cdGlmIChsZXZlbCA9PT0gJ2dyYW5kcGFyZW50Jykge1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPD0gMikge1xuXHRcdFx0cmV0dXJuIHBhcnRzWzBdIHx8IHBhdGg7IC8vIFJldHVybiByb290IG9yIGZpcnN0IHBhcnRcblx0XHR9XG5cdFx0cmV0dXJuIHBhcnRzLnNsaWNlKDAsIC0yKS5qb2luKCcvJyk7XG5cdH1cblxuXHQvLyBncmVhdGdyYW5kcGFyZW50XG5cdGlmIChwYXJ0cy5sZW5ndGggPD0gMykge1xuXHRcdHJldHVybiBwYXJ0c1swXSB8fCBwYXRoOyAvLyBSZXR1cm4gcm9vdCBvciBmaXJzdCBwYXJ0XG5cdH1cblx0cmV0dXJuIHBhcnRzLnNsaWNlKDAsIC0zKS5qb2luKCcvJyk7XG59XG5cbiIsICJpbXBvcnQgeyBFeHBsb3JlckZvY3VzUGx1Z2luIH0gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCB7IGdldEZvY3VzUGF0aCB9IGZyb20gXCIuLi91dGlscy9mb2N1c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21tYW5kcyhwbHVnaW46IEV4cGxvcmVyRm9jdXNQbHVnaW4pOiB2b2lkIHtcblx0Ly8gVG9nZ2xlIGZvY3VzIGNvbW1hbmRcblx0cGx1Z2luLmFkZENvbW1hbmQoe1xuXHRcdGlkOiBcInRvZ2dsZVwiLFxuXHRcdG5hbWU6IFwiVG9nZ2xlIGZvY3VzXCIsXG5cdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdGlmIChwbHVnaW4uaXNGb2N1cykge1xuXHRcdFx0XHRwbHVnaW4uZXhpdEZvY3VzKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAocGx1Z2luLnNldHRpbmdzLmZvY3VzTGV2ZWwgPT09ICdjdXN0b20nKSB7XG5cdFx0XHRcdFx0Ly8gRm9yIGN1c3RvbSBmb2xkZXIsIHVzZSB0aGUgY3VzdG9tIHBhdGggZGlyZWN0bHlcblx0XHRcdFx0XHRpZiAocGx1Z2luLnNldHRpbmdzLmN1c3RvbUZvbGRlclBhdGgpIHtcblx0XHRcdFx0XHRcdHBsdWdpbi5lbnRlckZvY3VzKHBsdWdpbi5zZXR0aW5ncy5jdXN0b21Gb2xkZXJQYXRoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRm9yIG90aGVyIGxldmVscywgbmVlZCB0aGUgY3VycmVudCBmaWxlXG5cdFx0XHRcdFx0Y29uc3QgZmlsZSA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0XHRpZiAoZmlsZT8ucGF0aCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgZm9jdXNQYXRoID0gZ2V0Rm9jdXNQYXRoKGZpbGUucGF0aCwgcGx1Z2luLnNldHRpbmdzLmZvY3VzTGV2ZWwsIHBsdWdpbi5zZXR0aW5ncyk7XG5cdFx0XHRcdFx0XHRwbHVnaW4uZW50ZXJGb2N1cyhmb2N1c1BhdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdH0pO1xuXG5cdC8vIEZpbGUgbWVudSBpdGVtXG5cdGlmIChwbHVnaW4uc2V0dGluZ3Muc2hvd1JpZ2h0Q2xpY2tNZW51KSB7XG5cdFx0cGx1Z2luLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHRwbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcImZpbGUtbWVudVwiLCAobWVudSwgZmlsZSkgPT4ge1xuXHRcdFx0XHRpZiAoIXBsdWdpbi5zZXR0aW5ncy5zaG93UmlnaHRDbGlja01lbnUpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUocGx1Z2luLmlzRm9jdXMgPyBcIkV4aXQgZm9jdXNcIiA6IFwiRm9jdXNcIilcblx0XHRcdFx0XHRcdC5zZXRJY29uKHBsdWdpbi5pc0ZvY3VzID8gXCJsb2ctb3V0XCIgOiBcImZvY3VzXCIpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0cGx1Z2luLnRvZ2dsZUZvY3VzKGZpbGU/LnBhdGgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxufVxuXG4iLCAiaW1wb3J0IHsgRXhwbG9yZXJGb2N1c1BsdWdpbiB9IGZyb20gXCIuLi9tYWluXCI7XG5cbi8qKlxuICogRmluZCBvciBjcmVhdGUgdGhlIG5hdmlnYXRpb24gYnV0dG9ucyBjb250YWluZXIgaW4gdGhlIGZpbGUgZXhwbG9yZXIgdmlldy5cbiAqIFRyaWVzIG11bHRpcGxlIHNlbGVjdG9ycyB0byBzdXBwb3J0IGJvdGggZGVza3RvcCBhbmQgbW9iaWxlLlxuICogT24gbW9iaWxlLCBjcmVhdGVzIGEgY29udGFpbmVyIGlmIG5vbmUgZXhpc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE5hdkJ1dHRvbnNDb250YWluZXIoZmlsZUV4cGxvcmVyVmlldzogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuXHQvLyBUcnkgZGVza3RvcCBzZWxlY3RvciBmaXJzdFxuXHRsZXQgY29udGFpbmVyID0gZmlsZUV4cGxvcmVyVmlldy5xdWVyeVNlbGVjdG9yKCcubmF2LWJ1dHRvbnMtY29udGFpbmVyJyk7XG5cdGlmIChjb250YWluZXIpIHtcblx0XHRyZXR1cm4gY29udGFpbmVyIGFzIEhUTUxFbGVtZW50O1xuXHR9XG5cblx0Ly8gVHJ5IGFsdGVybmF0aXZlIHNlbGVjdG9ycyBmb3IgbW9iaWxlXG5cdC8vIE1vYmlsZSBtaWdodCBoYXZlIHRoZSBidXR0b25zIGluIGEgZGlmZmVyZW50IHN0cnVjdHVyZVxuXHRjb250YWluZXIgPSBmaWxlRXhwbG9yZXJWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtaGVhZGVyLWJ1dHRvbi1jb250YWluZXInKTtcblx0aWYgKGNvbnRhaW5lcikge1xuXHRcdHJldHVybiBjb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG5cdH1cblxuXHQvLyBUcnkgZmluZGluZyBieSBsb29raW5nIGZvciBleGlzdGluZyBuYXYtYWN0aW9uLWJ1dHRvbiBlbGVtZW50c1xuXHRjb25zdCBleGlzdGluZ0J1dHRvbnMgPSBmaWxlRXhwbG9yZXJWaWV3LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtYWN0aW9uLWJ1dHRvbicpO1xuXHRpZiAoZXhpc3RpbmdCdXR0b25zLmxlbmd0aCA+IDApIHtcblx0XHRjb25zdCBmaXJzdEJ1dHRvbiA9IGV4aXN0aW5nQnV0dG9uc1swXTtcblx0XHRjb25zdCBwYXJlbnQgPSBmaXJzdEJ1dHRvbi5wYXJlbnRFbGVtZW50O1xuXHRcdGlmIChwYXJlbnQgJiYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1idXR0b25zLWNvbnRhaW5lcicpIHx8IFxuXHRcdCAgICAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1oZWFkZXItYnV0dG9uLWNvbnRhaW5lcicpIHx8XG5cdFx0ICAgICAgICAgICAgICAgQXJyYXkuZnJvbShwYXJlbnQuY2hpbGRyZW4pLnNvbWUoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtYWN0aW9uLWJ1dHRvbicpKSkpIHtcblx0XHRcdHJldHVybiBwYXJlbnQ7XG5cdFx0fVxuXHR9XG5cblx0Ly8gVHJ5IGZpbmRpbmcgdGhlIHZpZXcgaGVhZGVyIGFuZCBhcHBlbmRpbmcgdG8gaXRcblx0Y29uc3Qgdmlld0hlYWRlciA9IGZpbGVFeHBsb3JlclZpZXcucXVlcnlTZWxlY3RvcignLnZpZXctaGVhZGVyJykgYXMgSFRNTEVsZW1lbnQ7XG5cdGlmICh2aWV3SGVhZGVyKSB7XG5cdFx0Ly8gTG9vayBmb3IgYW55IGNvbnRhaW5lciB3aXRoIG5hdiBidXR0b25zIGluc2lkZSB0aGUgaGVhZGVyXG5cdFx0Y29uc3QgaGVhZGVyQ29udGFpbmVyID0gdmlld0hlYWRlci5xdWVyeVNlbGVjdG9yKCcubmF2LWJ1dHRvbnMtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQgfHxcblx0XHQgICAgICAgICAgICAgICAgICAgICAgIHZpZXdIZWFkZXIucXVlcnlTZWxlY3RvcignLm5hdi1oZWFkZXItYnV0dG9uLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50IHx8XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICB2aWV3SGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy52aWV3LWhlYWRlci10aXRsZS1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcblx0XHRpZiAoaGVhZGVyQ29udGFpbmVyKSB7XG5cdFx0XHRyZXR1cm4gaGVhZGVyQ29udGFpbmVyO1xuXHRcdH1cblx0XHQvLyBJZiBubyBjb250YWluZXIgZm91bmQsIHJldHVybiB0aGUgaGVhZGVyIGl0c2VsZiBhcyBmYWxsYmFja1xuXHRcdHJldHVybiB2aWV3SGVhZGVyO1xuXHR9XG5cblx0Ly8gTW9iaWxlIGZhbGxiYWNrOiBMb29rIGZvciBuYXYtZmlsZXMtY29udGFpbmVyIGFuZCBjcmVhdGUgYSBidXR0b24gYmFyIGFib3ZlIGl0XG5cdGNvbnN0IG5hdkZpbGVzQ29udGFpbmVyID0gZmlsZUV4cGxvcmVyVmlldy5xdWVyeVNlbGVjdG9yKCcubmF2LWZpbGVzLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50O1xuXHRpZiAobmF2RmlsZXNDb250YWluZXIpIHtcblx0XHQvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGNyZWF0ZWQgYSBtb2JpbGUgYnV0dG9uIGNvbnRhaW5lclxuXHRcdGxldCBtb2JpbGVCdXR0b25Db250YWluZXIgPSBmaWxlRXhwbG9yZXJWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5leHBsb3Jlci1mb2N1cy1tb2JpbGUtYnV0dG9ucycpIGFzIEhUTUxFbGVtZW50O1xuXHRcdGlmICghbW9iaWxlQnV0dG9uQ29udGFpbmVyKSB7XG5cdFx0XHQvLyBDcmVhdGUgYSBtb2JpbGUgYnV0dG9uIGNvbnRhaW5lclxuXHRcdFx0bW9iaWxlQnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRtb2JpbGVCdXR0b25Db250YWluZXIuY2xhc3NOYW1lID0gJ25hdi1idXR0b25zLWNvbnRhaW5lciBleHBsb3Jlci1mb2N1cy1tb2JpbGUtYnV0dG9ucyc7XG5cdFx0XHRtb2JpbGVCdXR0b25Db250YWluZXIuc2V0Q3NzUHJvcHMoe1xuXHRcdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRcdGFsaWduSXRlbXM6ICdjZW50ZXInLFxuXHRcdFx0XHRnYXA6ICc0cHgnLFxuXHRcdFx0XHRwYWRkaW5nOiAnOHB4Jyxcblx0XHRcdFx0Ym9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSdcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBJbnNlcnQgaXQgYmVmb3JlIHRoZSBuYXYtZmlsZXMtY29udGFpbmVyXG5cdFx0XHRuYXZGaWxlc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Py5pbnNlcnRCZWZvcmUobW9iaWxlQnV0dG9uQ29udGFpbmVyLCBuYXZGaWxlc0NvbnRhaW5lcik7XG5cdFx0fVxuXHRcdHJldHVybiBtb2JpbGVCdXR0b25Db250YWluZXI7XG5cdH1cblxuXHQvLyBMYXN0IHJlc29ydDogY3JlYXRlIGEgY29udGFpbmVyIGF0IHRoZSB0b3Agb2YgdGhlIHZpZXdcblx0bGV0IHRvcENvbnRhaW5lciA9IGZpbGVFeHBsb3JlclZpZXcucXVlcnlTZWxlY3RvcignLmV4cGxvcmVyLWZvY3VzLW1vYmlsZS1idXR0b25zJykgYXMgSFRNTEVsZW1lbnQ7XG5cdGlmICghdG9wQ29udGFpbmVyKSB7XG5cdFx0dG9wQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dG9wQ29udGFpbmVyLmNsYXNzTmFtZSA9ICduYXYtYnV0dG9ucy1jb250YWluZXIgZXhwbG9yZXItZm9jdXMtbW9iaWxlLWJ1dHRvbnMnO1xuXHRcdHRvcENvbnRhaW5lci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRkaXNwbGF5OiAnZmxleCcsXG5cdFx0XHRhbGlnbkl0ZW1zOiAnY2VudGVyJyxcblx0XHRcdGdhcDogJzRweCcsXG5cdFx0XHRwYWRkaW5nOiAnOHB4Jyxcblx0XHRcdGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknXG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gSW5zZXJ0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHZpZXdcblx0XHRmaWxlRXhwbG9yZXJWaWV3Lmluc2VydEJlZm9yZSh0b3BDb250YWluZXIsIGZpbGVFeHBsb3JlclZpZXcuZmlyc3RDaGlsZCk7XG5cdH1cblx0cmV0dXJuIHRvcENvbnRhaW5lcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVFeHBsb3Jlckljb24ocGx1Z2luOiBFeHBsb3JlckZvY3VzUGx1Z2luKTogSFRNTEVsZW1lbnQge1xuXHRjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGljb24uY2xhc3NOYW1lID0gJ2NsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uJztcblx0aWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBcIlRvZ2dsZSBmb2N1c1wiKTtcblxuXHQvLyBDcmVhdGUgdGhlIGZvY3VzIGljb24gU1ZHXG5cdGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyk7XG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzI0Jyk7XG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcyNCcpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcblx0c3ZnLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2N1cnJlbnRDb2xvcicpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKTtcblx0c3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3ZnLWljb24gbHVjaWRlLWZvY3VzJyk7XG5cdFxuXHQvLyBMdWNpZGUgZm9jdXMgaWNvbiAtIGNpcmNsZSB3aXRoIGNvcm5lciBicmFja2V0c1xuXHRjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuXHRjaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsICcxMicpO1xuXHRjaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsICcxMicpO1xuXHRjaXJjbGUuc2V0QXR0cmlidXRlKCdyJywgJzMnKTtcblx0c3ZnLmFwcGVuZENoaWxkKGNpcmNsZSk7XG5cdFxuXHRjb25zdCBwYXRoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHRwYXRoMS5zZXRBdHRyaWJ1dGUoJ2QnLCAnTTMgN1Y1YTIgMiAwIDAgMSAyLTJoMicpO1xuXHRzdmcuYXBwZW5kQ2hpbGQocGF0aDEpO1xuXHRcblx0Y29uc3QgcGF0aDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0cGF0aDIuc2V0QXR0cmlidXRlKCdkJywgJ00xNyAzaDJhMiAyIDAgMCAxIDIgMnYyJyk7XG5cdHN2Zy5hcHBlbmRDaGlsZChwYXRoMik7XG5cdFxuXHRjb25zdCBwYXRoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHRwYXRoMy5zZXRBdHRyaWJ1dGUoJ2QnLCAnTTIxIDE3djJhMiAyIDAgMCAxLTIgMmgtMicpO1xuXHRzdmcuYXBwZW5kQ2hpbGQocGF0aDMpO1xuXHRcblx0Y29uc3QgcGF0aDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0cGF0aDQuc2V0QXR0cmlidXRlKCdkJywgJ003IDIxSDVhMiAyIDAgMCAxLTItMnYtMicpO1xuXHRzdmcuYXBwZW5kQ2hpbGQocGF0aDQpO1xuXHRcblx0aWNvbi5hcHBlbmRDaGlsZChzdmcpO1xuXHRyZXR1cm4gaWNvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEZpbGVFeHBsb3Jlckljb24oaWNvbjogSFRNTEVsZW1lbnQsIG5hdkJ1dHRvbnNDb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdC8vIERvbid0IGluc2VydCBpZiBhbHJlYWR5IGluIHRoZSBjb250YWluZXJcblx0aWYgKG5hdkJ1dHRvbnNDb250YWluZXIuY29udGFpbnMoaWNvbikpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBGaW5kIHRoZSBwb3NpdGlvbiB0byBpbnNlcnQ6IGFmdGVyIGFsbCBkZWZhdWx0IE9ic2lkaWFuIGljb25zLCBiZWZvcmUgYW55IC5jbWRyIGVsZW1lbnRzXG5cdGNvbnN0IGFsbEljb25zID0gQXJyYXkuZnJvbShuYXZCdXR0b25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbGlja2FibGUtaWNvbi5uYXYtYWN0aW9uLWJ1dHRvbicpKTtcblx0Y29uc3QgZGVmYXVsdEljb25zID0gYWxsSWNvbnMuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NtZHInKSAmJiBlbCAhPT0gaWNvbik7XG5cdGNvbnN0IGNtZHJJY29ucyA9IEFycmF5LmZyb20obmF2QnV0dG9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY21kcicpKTtcblx0XG5cdGlmIChjbWRySWNvbnMubGVuZ3RoID4gMCkge1xuXHRcdC8vIEluc2VydCBiZWZvcmUgZmlyc3QgY21kciBpY29uXG5cdFx0bmF2QnV0dG9uc0NvbnRhaW5lci5pbnNlcnRCZWZvcmUoaWNvbiwgY21kckljb25zWzBdKTtcblx0fSBlbHNlIGlmIChkZWZhdWx0SWNvbnMubGVuZ3RoID4gMCkge1xuXHRcdC8vIEluc2VydCBhZnRlciBsYXN0IGRlZmF1bHQgaWNvblxuXHRcdGNvbnN0IGxhc3RJY29uID0gZGVmYXVsdEljb25zW2RlZmF1bHRJY29ucy5sZW5ndGggLSAxXTtcblx0XHRpZiAobGFzdEljb24ubmV4dFNpYmxpbmcpIHtcblx0XHRcdG5hdkJ1dHRvbnNDb250YWluZXIuaW5zZXJ0QmVmb3JlKGljb24sIGxhc3RJY29uLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmF2QnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSnVzdCBhcHBlbmQgaWYgbm8gb3RoZXIgaWNvbnNcblx0XHRuYXZCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pO1xuXHR9XG59XG5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQTRDOzs7QUNRckMsSUFBTSxtQkFBMEM7QUFBQSxFQUN0RCxvQkFBb0I7QUFBQSxFQUNwQixzQkFBc0I7QUFBQSxFQUN0QixZQUFZO0FBQUEsRUFDWixrQkFBa0I7QUFBQSxFQUNsQixxQkFBcUI7QUFDdEI7OztBQ2RBLElBQUFDLG1CQUFzQzs7O0FDQXRDLHNCQUFzRDs7O0FDQXRELFNBQVMsT0FBTyxLQUFLLFdBQVc7QUFDOUIsUUFBTSxXQUFXLE9BQU8sS0FBSyxTQUFTLEVBQUUsSUFBSSxDQUFDLFFBQVEsUUFBUSxLQUFLLEtBQUssVUFBVSxHQUFHLENBQUMsQ0FBQztBQUN0RixTQUFPLFNBQVMsV0FBVyxJQUFJLFNBQVMsQ0FBQyxJQUFJLFdBQVc7QUFDdEQsYUFBUyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFBQSxFQUM3QjtBQUNGO0FBQ0EsU0FBUyxRQUFRLEtBQUss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QUFTLEdBQUc7QUFDbEMsY0FBTSxtQkFBbUIsbUJBQW1CLENBQUMsRUFBRSxLQUFLO0FBQ3BELGNBQU0sc0JBQXNCLHdCQUF3QixnQkFBZ0I7QUFFcEUsWUFBSSxxQkFBcUI7QUFDeEIsaUNBQXVCLEtBQUssa0JBQWtCLG1CQUFtQjtBQUFBLFFBQ2xFO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFJQSxRQUFJLEtBQUssaUJBQWlCLE1BQU0sUUFBUTtBQUN2QyxXQUFLLGlCQUFpQixNQUFNLGVBQWUsUUFBUTtBQUFBLElBQ3BEO0FBR0EsUUFBSSxLQUFLLFNBQVM7QUFDakIsV0FBSyxpQkFBaUIsU0FBUyxXQUFXO0FBQUEsSUFDM0MsT0FBTztBQUNOLFdBQUssaUJBQWlCLFlBQVksV0FBVztBQUFBLElBQzlDO0FBQUEsRUFDRDtBQUFBLEVBRUEsV0FBVztBQUNWLFFBQUksS0FBSyxrQkFBa0I7QUFDMUIsV0FBSyxpQkFBaUIsT0FBTztBQUM3QixXQUFLLG1CQUFtQjtBQUFBLElBQ3pCO0FBQUEsRUFDRDtBQUNEO0FBRUEsSUFBTyxlQUFROyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
